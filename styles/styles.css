/*
 * Luo Medical Design System
 * Migrated from https://www.luomedical.com/
 */

:root {
  /* Luo Medical Colors - Blue/Purple/Teal Theme */
  --color-white: #fff;
  --color-deep-blue: #000A77;
  --color-navy: #0D1B4C;
  --color-purple: #9333EA;
  --color-violet: #7C3AED;
  --color-teal: #00C4E8;
  --color-dark-navy: #1a1a2e;
  --color-transparent-white: rgba(255, 255, 255, 0.1);

  /* Semantic colors */
  --background-color: var(--color-white);
  --light-color: #f8f8f8;
  --dark-color: var(--color-dark-navy);
  --text-color: #131313;
  --text-color-inverted: var(--color-white);
  --link-color: var(--color-purple);
  --link-hover-color: var(--color-violet);
  --accent-color: var(--color-purple);

  /* Gradient - Using original Luo background image for accurate branding */
  --gradient-primary: url('/styles/login-background.jpg');

  /* CSS fallback gradient (used when image not available) */
  --gradient-fallback:
    radial-gradient(ellipse 80% 70% at 100% 0%, var(--color-teal) 0%, transparent 70%),
    radial-gradient(ellipse 90% 90% at 0% 100%, var(--color-purple) 0%, transparent 70%),
    linear-gradient(135deg, var(--color-deep-blue) 0%, var(--color-navy) 100%);

  /* Fonts */
  --body-font-family: "DM Sans", dm-sans-fallback, sans-serif;
  --heading-font-family: degular-display, degular-fallback, sans-serif;

  /* Body sizes */
  --body-font-size-m: 18px;
  --body-font-size-s: 16px;
  --body-font-size-xs: 14px;

  /* Heading sizes */
  --heading-font-size-xxl: 64px;
  --heading-font-size-xl: 48px;
  --heading-font-size-l: 36px;
  --heading-font-size-m: 28px;
  --heading-font-size-s: 22px;
  --heading-font-size-xs: 18px;

  /* Spacing */
  --spacing-xs: 8px;
  --spacing-s: 16px;
  --spacing-m: 24px;
  --spacing-l: 40px;
  --spacing-xl: 64px;

  /* Border radius */
  --border-radius-s: 3px;
  --border-radius-m: 8px;
  --border-radius-l: 16px;
  --border-radius-pill: 50px;

  /* Nav height */
  --nav-height: 64px;

  /* Transitions */
  --transition-fast: 0.15s ease;
  --transition-base: 0.2s ease;
  --transition-slow: 0.3s ease;
}

/* Fallback fonts */
@font-face {
  font-family: degular-fallback;
  size-adjust: 100%;
  src: local('Arial');
}

@font-face {
  font-family: dm-sans-fallback;
  size-adjust: 100%;
  src: local('Arial');
}

@media (width >= 900px) {
  :root {
    /* Heading sizes - desktop */
    --heading-font-size-xxl: 64px;
    --heading-font-size-xl: 48px;
    --heading-font-size-l: 36px;
    --heading-font-size-m: 28px;
    --heading-font-size-s: 22px;
    --heading-font-size-xs: 18px;
  }
}

@media (width < 600px) {
  :root {
    /* Heading sizes - mobile */
    --heading-font-size-xxl: 40px;
    --heading-font-size-xl: 32px;
    --heading-font-size-l: 26px;
    --heading-font-size-m: 22px;
    --heading-font-size-s: 18px;
    --heading-font-size-xs: 16px;
  }
}

body {
  display: none;
  margin: 0;
  background-color: var(--background-color);
  color: var(--text-color);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-m);
  line-height: 1.6;
  letter-spacing: 0.1px;
}

body.appear {
  display: block;
}

header {
  height: var(--nav-height);
}

/* Hide default header on gateway pages (age verification) - but not gateway-header */
body:has(.hero-gateway) header:not(.gateway-header) {
  height: 0;
  overflow: hidden;
}

header .header,
footer .footer {
  visibility: hidden;
}

header .header[data-block-status="loaded"],
footer .footer[data-block-status="loaded"] {
  visibility: visible;
}

/* Headings */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin-top: 0.8em;
  margin-bottom: 0.25em;
  font-family: var(--heading-font-family);
  font-weight: 400;
  line-height: 1;
  letter-spacing: 0.1px;
  scroll-margin: 40px;
}

h1 { font-size: var(--heading-font-size-xxl); }
h2 { font-size: var(--heading-font-size-xl); }
h3 { font-size: var(--heading-font-size-l); }
h4 { font-size: var(--heading-font-size-m); }
h5 { font-size: var(--heading-font-size-s); }
h6 { font-size: var(--heading-font-size-xs); }

/* Italic headings (display style) */
h1 em,
h2 em,
h3 em {
  font-style: italic;
}

p,
dl,
ol,
ul,
pre,
blockquote {
  margin-top: 0.8em;
  margin-bottom: 0.25em;
}

code,
pre {
  font-size: var(--body-font-size-s);
}

pre {
  padding: 16px;
  border-radius: var(--border-radius-m);
  background-color: var(--light-color);
  overflow-x: auto;
  white-space: pre;
}

main > div {
  margin: 40px 16px;
}

input,
textarea,
select,
button {
  font: inherit;
}

/* Links */
a:any-link {
  color: var(--link-color);
  text-decoration: none;
  overflow-wrap: break-word;
  transition: color var(--transition-base);
}

a:hover {
  color: var(--link-hover-color);
  text-decoration: underline;
}

/* Accessibility - Focus Indicators */
*:focus-visible {
  outline: 3px solid var(--color-violet);
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible,
select:focus-visible,
input:focus-visible {
  outline: 3px solid var(--color-violet);
  outline-offset: 2px;
}

/* Skip link for keyboard users */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: white;
  color: var(--color-dark-navy);
  padding: 8px 16px;
  text-decoration: none;
  z-index: 10000;
  border-radius: 0 0 4px 0;
}

.skip-link:focus {
  top: 0;
}

/* Buttons - Primary */
a.button:any-link,
button {
  box-sizing: border-box;
  display: inline-block;
  max-width: 100%;
  margin: 12px 0;
  border: 2px solid transparent;
  border-radius: var(--border-radius-pill);
  padding: 16px 32px;
  font-family: var(--heading-font-family);
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  line-height: 1.25;
  text-align: center;
  text-decoration: none;
  background-color: var(--color-white);
  color: var(--color-dark-blue);
  cursor: pointer;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: all var(--transition-base);
}

a.button:hover,
a.button:focus,
button:hover,
button:focus {
  background-color: var(--color-dark-blue);
  color: var(--color-white);
  cursor: pointer;
}

button:disabled,
button:disabled:hover {
  background-color: var(--light-color);
  color: var(--dark-color);
  cursor: not-allowed;
  opacity: 0.6;
}

/* Buttons - Secondary (outline) */
a.button.secondary,
button.secondary {
  background-color: transparent;
  border: 2px solid var(--color-white);
  color: var(--color-white);
}

a.button.secondary:hover,
button.secondary:hover {
  background-color: var(--color-white);
  color: var(--color-dark-blue);
}

/* Form elements */
input[type="text"],
input[type="email"],
input[type="password"],
textarea,
select {
  padding: 20px 25px;
  border: 1px solid var(--color-white);
  border-radius: var(--border-radius-s);
  background-color: var(--color-transparent-white);
  color: var(--color-white);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
  transition: border-color var(--transition-base);
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--color-white);
  outline: none;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);
}

input::placeholder,
textarea::placeholder {
  color: rgba(255, 255, 255, 0.7);
}

main img {
  max-width: 100%;
  width: auto;
  height: auto;
}

.icon {
  display: inline-block;
  height: 24px;
  width: 24px;
}

.icon img {
  height: 100%;
  width: 100%;
}

/* Sections */
main > .section {
  margin: 40px 0;
}

/* Hero + Hero-Gateway seamless connection */
main > .section.hero-container {
  margin: 0;
}

/* Hero-patient section - extend gradient for mission section overlap */
main > .section.bg-hero.hero-patient {
  padding-bottom: 200px;
  position: relative;
  z-index: 1;
}

/* Body gradient for patient pages - allows mission section clip-path to reveal gradient */
body:has(.section.hero-patient) {
  background: var(--bg-gradient-hero);
  background-size: cover;
  background-position: center top;
  background-attachment: fixed;
}

main > .section.hero-gateway-container {
  margin: 0;
}

/* Gateway pages - seamless gradient sections */
body:has(.hero-gateway) {
  background: var(--gradient-primary);
  background-size: cover;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-attachment: fixed;
  height: 100vh;
  overflow: hidden;
}

body:has(.hero-gateway) main > .section {
  margin: 0;
}

body:has(.hero-gateway) main {
  background: transparent;
}

body:has(.hero-gateway) header,
body:has(.hero-gateway) footer {
  background: transparent;
}

/* Hide empty footer on gateway pages */
body:has(.hero-gateway) footer:empty {
  display: none;
}

/* Hide metadata block from display */
main > .section.metadata-container {
  display: none;
}

main > .section > div {
  max-width: 1200px;
  margin: auto;
  padding: 0 24px;
}

main > .section:first-of-type {
  margin-top: 0;
}

@media (width >= 900px) {
  main > .section > div {
    padding: 0 32px;
  }
}

/* Section variants */
main .section.light,
main .section.highlight {
  background-color: var(--light-color);
  margin: 0;
  padding: 40px 0;
}

/* Dark section with gradient background */
main .section.dark,
main .section.gradient {
  background: var(--gradient-primary);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color: var(--text-color-inverted);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

main .section.dark h1,
main .section.dark h2,
main .section.dark h3,
main .section.dark h4,
main .section.dark h5,
main .section.dark h6,
main .section.dark p,
main .section.gradient h1,
main .section.gradient h2,
main .section.gradient h3,
main .section.gradient h4,
main .section.gradient h5,
main .section.gradient h6,
main .section.gradient p {
  color: var(--text-color-inverted);
}

main .section.dark a:any-link,
main .section.gradient a:any-link {
  color: var(--text-color-inverted);
}

/* Centered content */
main .section.center {
  text-align: center;
}

main .section.center > div {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ==========================================================================
   Form Elements - Luo Medical Style
   ========================================================================== */

/* Form container on gradient backgrounds */
.form-gateway {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-m);
  max-width: 400px;
  width: 100%;
}

/* Form labels */
.form-gateway label,
.gradient label,
.dark label {
  color: var(--text-color-inverted);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
  display: block;
  margin-bottom: var(--spacing-xs);
}

/* Select dropdowns - transparent white style */
.form-gateway select,
.gradient select,
.dark select {
  appearance: none;
  background-color: rgba(255, 255, 255, 0.1);
  border: 1px solid var(--color-white);
  border-radius: 3px;
  color: var(--text-color-inverted);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
  padding: 20px 25px;
  padding-right: 45px;
  width: 100%;
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='white' d='M6 8L0 0h12z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 20px center;
}

.form-gateway select:focus,
.gradient select:focus,
.dark select:focus {
  outline: none;
  border-color: var(--color-violet);
  box-shadow: 0 0 0 2px rgba(124, 58, 237, 0.3);
}

/* Date picker row - side by side */
.form-gateway .date-row {
  display: flex;
  gap: var(--spacing-s);
}

.form-gateway .date-row select {
  flex: 1;
  padding: 20px 15px;
}

/* Checkbox styling */
.form-gateway input[type="checkbox"] {
  appearance: none;
  width: 20px;
  height: 20px;
  border: 1px solid var(--color-white);
  border-radius: 3px;
  background-color: transparent;
  cursor: pointer;
  vertical-align: middle;
  margin-right: var(--spacing-xs);
}

.form-gateway input[type="checkbox"]:checked {
  background-color: var(--color-white);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24'%3E%3Cpath fill='%232A9D8F' d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
}

/* Checkbox label */
.form-gateway .checkbox-label {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xs);
  font-size: var(--body-font-size-xs);
  color: var(--text-color-inverted);
  line-height: 1.4;
}

/* Full-width submit button on gradient */
.form-gateway .button-submit,
.form-gateway button[type="submit"] {
  width: 100%;
  padding: 20px 40px;
  background-color: var(--color-white);
  color: var(--color-dark-blue);
  font-family: var(--heading-font-family);
  font-size: 20px;
  font-weight: 400;
  border: none;
  border-radius: var(--border-radius-pill);
  cursor: pointer;
  transition: all var(--transition-base);
  margin-top: var(--spacing-m);
}

.form-gateway .button-submit:hover,
.form-gateway button[type="submit"]:hover {
  background-color: var(--color-dark-blue);
  color: var(--color-white);
}

.form-gateway .button-submit:disabled,
.form-gateway button[type="submit"]:disabled {
  background-color: rgba(255, 255, 255, 0.3);
  color: rgba(255, 255, 255, 0.6);
  cursor: not-allowed;
}

/* Language selector - pill style like original */
.language-selector,
main > .section > div > p:has(a[href*="/ca/"]):has(a[href*="/fr/"]) {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  gap: var(--spacing-xs);
  padding: 12px 24px;
  background-color: var(--color-white);
  border-radius: var(--border-radius-pill);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
  margin: 0 auto;
}

/* Center the language selector in its container */
main > .section:has(> div > p > a[href*="/ca/"]):has(> div > p > a[href*="/fr/"]) > div {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-bottom: var(--spacing-xl);
}

.language-selector a,
main > .section > div > p:has(a[href*="/ca/"]) a {
  color: var(--color-dark-blue);
  text-decoration: none;
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
}

.language-selector a:hover,
main > .section > div > p:has(a[href*="/ca/"]) a:hover {
  text-decoration: underline;
}

.language-selector span {
  color: var(--color-dark-blue);
}

/* Gateway footer section - continues gradient with starburst */
main .section.gateway-footer {
  background: var(--gradient-primary);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  margin: 0;
  padding: 0 0 var(--spacing-xl);
}

main .section.gateway-footer > div {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0;
}

/* Bottom starburst decoration */
main .section.gateway-footer picture,
main .section.gateway-footer img {
  max-width: 300px;
  width: 100%;
  height: auto;
  opacity: 0.4;
  margin-bottom: var(--spacing-l);
}

@media (width >= 900px) {
  main .section.gateway-footer picture,
  main .section.gateway-footer img {
    max-width: 400px;
  }
}

/* ==========================================================================
   Legal Content Pages (Terms of Use, Privacy Policy)
   ========================================================================== */

/* Hero-Legal section - no margin for seamless gradient */
main > .section.hero-legal-container {
  margin: 0;
}

/* Legal content area styling */
.legal-content,
main > .section:has(> div > p:first-child > em) {
  padding: var(--spacing-xl) 0;
}

.legal-content > div,
main > .section:has(> div > p:first-child > em) > div {
  max-width: 780px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

/* Legal page h4 - section headings */
main h4 {
  font-family: var(--heading-font-family);
  font-size: var(--heading-font-size-m);
  font-weight: 400;
  color: var(--color-dark-blue);
  margin-top: var(--spacing-xl);
  margin-bottom: var(--spacing-m);
  line-height: 1;
}

main h4:first-of-type {
  margin-top: var(--spacing-l);
}

/* Legal page body text */
main p {
  font-family: var(--heading-font-family);
  font-size: var(--body-font-size-s);
  font-weight: 400;
  color: var(--color-dark-blue);
  line-height: 1.2;
  margin-bottom: var(--spacing-m);
}

/* Italic text (Last Updated date) */
main p em {
  font-style: italic;
  color: var(--color-dark-blue);
}

/* Legal page lists */
main ul,
main ol {
  margin-left: 30px;
  padding-left: var(--spacing-m);
  margin-bottom: var(--spacing-m);
  color: var(--color-dark-blue);
}

main ul {
  list-style-type: disc;
}

main ol {
  list-style-type: decimal;
}

main li {
  font-family: var(--heading-font-family);
  font-size: var(--body-font-size-s);
  color: var(--color-dark-blue);
  line-height: 1.5;
  margin-bottom: var(--spacing-xs);
}

/* Strong text in legal content */
main strong {
  font-weight: 600;
}

/* ==========================================================================
   Section-Based Page Styles
   Use Section Metadata blocks to apply these styles via class names
   ========================================================================== */

/* Background Gradient Variables using actual images */
:root {
  --bg-gradient-hero: url('/styles/backgrounds/footer-gradient-background-flip.jpg');
  --bg-gradient-product: url('/styles/backgrounds/footer-gradient-background.jpg');
  --bg-gradient-even: url('/styles/backgrounds/bg-gradient-even.png');
  --bg-gradient-odd: url('/styles/backgrounds/bg-gradient-odd.png');
}

/* ==========================================================================
   Section Background Styles (applied via Section Metadata)
   ========================================================================== */

/* Hero gradient background - flipped gradient */
main > .section.bg-hero {
  background: var(--bg-gradient-hero);
  background-size: cover;
  background-position: center top;
  background-repeat: no-repeat;
  color: var(--text-color-inverted);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Product gradient background */
main > .section.bg-product {
  background: var(--bg-gradient-product);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color: var(--text-color-inverted);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Even gradient background (teal to white) */
main > .section.bg-even {
  background: var(--bg-gradient-even);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Odd gradient background (white to teal) */
main > .section.bg-odd {
  background: var(--bg-gradient-odd);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Plain white section */
main > .section.bg-white {
  background: var(--background-color);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Light cream/beige background */
main > .section.bg-cream {
  background: linear-gradient(180deg, #f5f0e8 0%, var(--background-color) 100%);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Text colors for gradient backgrounds */
main > .section.bg-hero h1,
main > .section.bg-hero h2,
main > .section.bg-hero h3,
main > .section.bg-hero p,
main > .section.bg-product h1,
main > .section.bg-product h2,
main > .section.bg-product h3,
main > .section.bg-product p {
  color: var(--text-color-inverted);
}

main > .section.bg-hero a:any-link,
main > .section.bg-product a:any-link {
  color: var(--text-color-inverted);
}

/* ==========================================================================
   Hero Section Styles
   ========================================================================== */

main > .section.hero-patient {
  min-height: 100vh;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  text-align: left;
  position: relative;
  overflow: hidden;
  padding-top: 80px;
  padding-bottom: 200px;
}

main > .section.hero-patient > div {
  position: relative;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  max-width: 550px;
  padding: 0 var(--spacing-xl);
  margin-left: 5%;
  margin-top: 5vh;
}

/* Ensure all text content stays above the image */
main > .section.hero-patient > div > h1,
main > .section.hero-patient > div > p:not(:has(img)) {
  position: relative;
  z-index: 5;
}

/* Hero H1 - "Illuminate" bold, "Possibilities" italic/lighter */
main > .section.hero-patient h1 {
  font-size: 100px;
  font-weight: 700;
  font-style: normal;
  color: var(--text-color-inverted);
  margin-bottom: var(--spacing-m);
  line-height: 1;
  letter-spacing: -0.02em;
}

main > .section.hero-patient h1 em {
  font-weight: 400;
  font-style: italic;
  display: block;
  color: rgba(255, 255, 255, 0.9);
}

main > .section.hero-patient > div > p {
  color: var(--text-color-inverted);
  max-width: 500px;
  margin: 0 0 var(--spacing-m);
  font-size: 25px;
  line-height: 1.5;
}

/* Hero CTA button with arrow */
main > .section.hero-patient a.button,
main > .section.hero-patient > div > p > a:not(:has(img)) {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  padding: 22px 40px;
  border-radius: var(--border-radius-pill);
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 20px;
  font-weight: 600;
  transition: all var(--transition-base);
  margin: var(--spacing-m) 0;
}

main > .section.hero-patient a.button::after,
main > .section.hero-patient > div > p > a:not(:has(img))::after {
  content: "→";
  font-size: 18px;
  transition: transform var(--transition-base);
}

main > .section.hero-patient a.button:hover,
main > .section.hero-patient > div > p > a:not(:has(img)):hover {
  background-color: var(--color-deep-blue);
  color: var(--color-white);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

main > .section.hero-patient a.button:hover::after,
main > .section.hero-patient > div > p > a:not(:has(img)):hover::after {
  transform: translateX(4px);
}

/* Hero floating image - anchored to right edge, scales with viewport */
main > .section.hero-patient .hero-image,
main > .section.hero-patient > div > p:has(img) {
  position: absolute;
  top: -25%;
  right: 0;
  bottom: -25%;
  width: 95vw;
  max-width: none;
  z-index: 1;
  margin: 0;
  pointer-events: none;
}

/* Use descendant selector to match img inside picture element */
main > .section.hero-patient .hero-image img,
main > .section.hero-patient > div > p:has(img) img {
  width: 148%;
  height: 148%;
  max-width: none;
  max-height: none;
  object-fit: contain;
  object-position: right center;
  transform: translateX(1%);
}

/* Desktop adjustments - larger screens get larger images */
@media (width >= 1200px) {
  main > .section.hero-patient h1 {
    font-size: 120px;
  }

  main > .section.hero-patient > div > p {
    font-size: 28px;
  }

  main > .section.hero-patient .hero-image,
  main > .section.hero-patient > div > p:has(img) {
    top: -28%;
    bottom: -28%;
    width: 90vw;
  }

  main > .section.hero-patient .hero-image img,
  main > .section.hero-patient > div > p:has(img) img {
    width: 160%;
    height: 160%;
    transform: translateX(5%);
  }
}

@media (width >= 900px) and (width < 1200px) {
  main > .section.hero-patient h1 {
    font-size: 110px;
  }

  main > .section.hero-patient .hero-image,
  main > .section.hero-patient > div > p:has(img) {
    top: -28%;
    bottom: -28%;
    width: 92vw;
  }

  main > .section.hero-patient .hero-image img,
  main > .section.hero-patient > div > p:has(img) img {
    width: 154%;
    height: 154%;
    transform: translateX(3%);
  }
}

/* Tablet and mobile */
@media (width < 768px) {
  main > .section.hero-patient {
    min-height: auto;
    padding: var(--spacing-xl) 0;
    padding-bottom: var(--spacing-l);
    text-align: center;
    align-items: center;
  }

  main > .section.hero-patient > div {
    align-items: center;
    padding: 0 var(--spacing-m);
  }

  main > .section.hero-patient h1 {
    font-size: 48px;
  }

  main > .section.hero-patient > div > p {
    font-size: 16px;
    text-align: center;
  }

  main > .section.hero-patient .hero-image,
  main > .section.hero-patient > div > p:has(img) {
    position: relative;
    bottom: auto;
    right: auto;
    max-width: 100%;
    margin: var(--spacing-l) auto 0;
  }
}

/* ==========================================================================
   Two Column Layout (via Section Metadata)
   ========================================================================== */

main > .section.two-col > div {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-xl);
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

main > .section.two-col-reverse > div {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-xl);
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

main > .section.two-col-reverse > div > *:first-child {
  order: 2;
}

main > .section.two-col-reverse > div > *:last-child {
  order: 1;
}

@media (width < 768px) {
  main > .section.two-col > div,
  main > .section.two-col-reverse > div {
    grid-template-columns: 1fr;
    gap: var(--spacing-l);
  }

  main > .section.two-col-reverse > div > *:first-child,
  main > .section.two-col-reverse > div > *:last-child {
    order: unset;
  }
}

/* ==========================================================================
   Content Banner Sections (Product highlight with text + image)
   ========================================================================== */

main > .section.banner-left > div,
main > .section.banner-right > div {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-xl);
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
  min-height: 500px;
}

main > .section.banner-right > div {
  direction: rtl;
}

main > .section.banner-right > div > * {
  direction: ltr;
}

main > .section.banner-left .content-col,
main > .section.banner-right .content-col {
  max-width: 500px;
}

main > .section.banner-left h2,
main > .section.banner-right h2 {
  font-size: var(--heading-font-size-xl);
  line-height: 1.2;
  margin-bottom: var(--spacing-m);
}

main > .section.banner-left h2 strong,
main > .section.banner-right h2 strong {
  color: var(--color-teal);
}

/* Banner CTA button on gradient backgrounds */
main > .section.bg-product.banner-left a.button,
main > .section.bg-product.banner-right a.button,
main > .section.bg-product.banner-left > div > p > a,
main > .section.bg-product.banner-right > div > p > a {
  display: inline-block;
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  padding: 16px 40px;
  border-radius: var(--border-radius-pill);
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 18px;
  transition: all var(--transition-base);
  margin-top: var(--spacing-m);
}

/* Banner image column */
main > .section.banner-left .image-col,
main > .section.banner-right .image-col,
main > .section.banner-left > div > p:has(img),
main > .section.banner-right > div > p:has(img) {
  display: flex;
  justify-content: center;
  align-items: center;
}

main > .section.banner-left .image-col img,
main > .section.banner-right .image-col img,
main > .section.banner-left > div > p > img,
main > .section.banner-right > div > p > img {
  max-width: 100%;
  height: auto;
  max-height: 450px;
  object-fit: contain;
}

@media (width < 768px) {
  main > .section.banner-left > div,
  main > .section.banner-right > div {
    grid-template-columns: 1fr;
    min-height: auto;
    direction: ltr;
  }

  main > .section.banner-right > div > * {
    direction: ltr;
  }
}

/* ==========================================================================
   Mission/Text Section Styles (Frosted Glass with Background Image)
   ========================================================================== */

main > .section.mission {
  position: relative;
  min-height: 850px;
  max-width: 1415px;
  margin: -100px auto 0;
  background: url('/content/ca/patient/images/lifestyle-bag.webp');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  padding: var(--spacing-xl) 0;
  padding-top: 120px;
  padding-bottom: 120px;
  display: flex;
  align-items: center;
  overflow: visible;
  z-index: 5;
  /* Clipped corners - top-right and bottom-left */
  clip-path: polygon(0 0, calc(100% - 35px) 0, 100% 35px, 100% 100%, 35px 100%, 0 calc(100% - 35px));
}

/* Frosted glass content container */
main > .section.mission > div {
  position: relative;
  z-index: 2;
  max-width: 600px;
  margin: 55px 0;
  margin-left: 5%;
  padding: 57px 53px;
  background-color: rgba(255, 255, 255, 0.58);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-radius: 10px;
}

main > .section.mission h2 {
  font-size: var(--heading-font-size-xl);
  color: var(--color-deep-blue);
  line-height: 1.15;
  margin-top: 0;
  margin-bottom: var(--spacing-m);
}

main > .section.mission h2 strong {
  color: var(--color-teal);
  font-style: italic;
}

main > .section.mission p {
  color: var(--color-deep-blue);
  line-height: 1.5;
  margin-bottom: var(--spacing-m);
  font-size: var(--body-font-size-m);
}

/* Teal CTA button with arrow */
main > .section.mission a.button,
main > .section.mission > div > p > a {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  max-width: 350px;
  background-color: var(--color-teal);
  color: var(--color-white);
  padding: 20px 30px;
  border: none;
  border-radius: var(--border-radius-s);
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 18px;
  transition: all var(--transition-base);
  margin-top: var(--spacing-m);
}

main > .section.mission a.button::after,
main > .section.mission > div > p > a::after {
  content: "→";
  font-size: 20px;
  transition: transform var(--transition-base);
}

main > .section.mission a.button:hover,
main > .section.mission > div > p > a:hover {
  background-color: var(--color-purple);
  color: var(--color-white);
}

main > .section.mission a.button:hover::after,
main > .section.mission > div > p > a:hover::after {
  transform: translateX(5px);
}

@media (width < 768px) {
  main > .section.mission {
    min-height: auto;
    background-position: center;
    padding: var(--spacing-l) var(--spacing-m);
    /* Smaller clip on mobile */
    clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px));
  }

  main > .section.mission > div {
    max-width: 100%;
    margin-left: 0;
    padding: var(--spacing-l);
  }

  main > .section.mission h2 {
    font-size: var(--heading-font-size-l);
  }
}

/* ==========================================================================
   Product Cards Section (Find your Luo)
   ========================================================================== */

main > .section.products > div {
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

main > .section.products h3 {
  font-size: var(--heading-font-size-l);
  color: var(--color-deep-blue);
  text-align: center;
  margin-bottom: var(--spacing-l);
}

main > .section.products .cards > ul {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-l);
  list-style: none;
  padding: 0;
  margin: 0;
}

main > .section.products .cards > ul > li {
  background: var(--background-color);
  padding: var(--spacing-l);
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

main > .section.products .cards > ul > li picture,
main > .section.products .cards > ul > li img {
  max-width: 180px;
  height: auto;
  margin-bottom: var(--spacing-m);
}

main > .section.products .cards > ul > li strong {
  display: block;
  font-size: var(--heading-font-size-s);
  font-family: var(--heading-font-family);
  color: var(--color-deep-blue);
  margin-bottom: var(--spacing-s);
}

main > .section.products .cards > ul > li p {
  font-size: var(--body-font-size-s);
  color: var(--color-deep-blue);
  line-height: 1.5;
  margin: 0;
}

main > .section.products .cards > ul > li a {
  color: var(--color-purple);
  text-decoration: underline;
  margin-top: var(--spacing-s);
}

@media (width < 768px) {
  main > .section.products .cards > ul {
    grid-template-columns: 1fr;
  }
}

/* ==========================================================================
   Features Section (Why Luo)
   ========================================================================== */

main > .section.features > div {
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

main > .section.features .features-header,
main > .section.features > div > div:first-child {
  text-align: center;
  margin-bottom: var(--spacing-l);
}

main > .section.features h2,
main > .section.features h3 {
  font-size: var(--heading-font-size-l);
  color: var(--color-deep-blue);
  text-align: center;
  margin-bottom: var(--spacing-s);
}

main > .section.features > div > p {
  text-align: center;
  font-size: var(--body-font-size-m);
  color: var(--color-deep-blue);
  margin-bottom: var(--spacing-l);
}

main > .section.features > div > p strong {
  color: var(--color-teal);
}

main > .section.features .cards > ul {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--spacing-m);
  list-style: none;
  padding: 0;
  margin: 0;
}

main > .section.features .cards > ul > li {
  background: var(--background-color);
  border: 2px solid var(--color-deep-blue);
  border-radius: var(--border-radius-l);
  padding: var(--spacing-l);
  position: relative;
  overflow: hidden;
}

/* Decorative corner clips for feature cards */
main > .section.features .cards > ul > li::before,
main > .section.features .cards > ul > li::after {
  content: '';
  position: absolute;
  width: 30px;
  height: 30px;
  background: var(--bg-gradient-even);
  background-size: cover;
}

main > .section.features .cards > ul > li::before {
  top: -2px;
  right: -2px;
  border-bottom-left-radius: 15px;
  border: 2px solid var(--color-deep-blue);
  border-top: none;
  border-right: none;
}

main > .section.features .cards > ul > li::after {
  bottom: -2px;
  left: -2px;
  border-top-right-radius: 15px;
  border: 2px solid var(--color-deep-blue);
  border-bottom: none;
  border-left: none;
}

main > .section.features .cards > ul > li picture,
main > .section.features .cards > ul > li img {
  max-width: 60px;
  height: 60px;
  margin-bottom: var(--spacing-m);
}

main > .section.features .cards > ul > li strong {
  display: block;
  font-size: var(--heading-font-size-s);
  font-family: var(--heading-font-family);
  font-style: italic;
  color: var(--color-deep-blue);
  margin-bottom: var(--spacing-s);
}

main > .section.features .cards > ul > li p {
  font-size: var(--body-font-size-s);
  color: var(--color-deep-blue);
  line-height: 1.5;
  margin: 0;
}

/* ==========================================================================
   FAQ Section Styles
   ========================================================================== */

main > .section.faq > div {
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

/* Two-column FAQ using CSS columns for inline content */
main > .section.faq.two-col > div > .default-content-wrapper {
  column-count: 2;
  column-gap: var(--spacing-xl);
}

/* Each FAQ item starts with h3 - keep together */
main > .section.faq.two-col h3 {
  break-before: column;
  break-inside: avoid;
}

main > .section.faq.two-col h3:first-of-type {
  break-before: auto;
}

/* FAQ card styling */
main > .section.faq h3 {
  background: var(--background-color);
  padding: var(--spacing-l) var(--spacing-l) 0;
  margin: 0;
  font-size: var(--heading-font-size-l);
  color: var(--color-deep-blue);
  text-align: left;
  border-radius: var(--border-radius-l) var(--border-radius-l) 0 0;
}

main > .section.faq h3 strong {
  color: var(--color-teal);
}

main > .section.faq p {
  background: var(--background-color);
  padding: var(--spacing-m) var(--spacing-l);
  margin: 0;
  color: var(--color-deep-blue);
  line-height: 1.6;
}

main > .section.faq p.button-container {
  padding-bottom: var(--spacing-l);
  border-radius: 0 0 var(--border-radius-l) var(--border-radius-l);
  margin-bottom: var(--spacing-m);
}

main > .section.faq a.button {
  display: inline-block;
  background-color: var(--color-deep-blue);
  color: var(--color-white);
  padding: 12px 32px;
  border-radius: var(--border-radius-pill);
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 16px;
  transition: all var(--transition-base);
}

main > .section.faq a.button:hover {
  background-color: var(--color-purple);
}

@media (width < 768px) {
  main > .section.faq.two-col > div > .default-content-wrapper {
    column-count: 1;
  }
}

/* ==========================================================================
   Footer Mark Decoration
   ========================================================================== */

main > .section.footer-mark {
  background-image: url('/styles/backgrounds/footer-mark.svg');
  background-repeat: no-repeat;
  background-position: center calc(100% - 48px);
  background-size: 300px auto;
  padding-bottom: 200px;
}

@media (width >= 900px) {
  main > .section.footer-mark {
    background-size: 400px auto;
    padding-bottom: 250px;
  }
}

/* ==========================================================================
   Scroll Animations
   ========================================================================== */

/* Base animation state - hidden initially */
.animate-on-scroll {
  opacity: 0;
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

/* Visible state - triggered by Intersection Observer */
.animate-on-scroll.animate-visible {
  opacity: 1;
  transform: none !important;
}

/* Animation Types */
.animate-fade-in {
  opacity: 0;
}

.animate-fade-up {
  opacity: 0;
  transform: translateY(30px);
}

.animate-fade-down {
  opacity: 0;
  transform: translateY(-30px);
}

/* Title bounce animation - like the original AOS title-bounce */
.animate-title-bounce {
  opacity: 0;
  transform: translateY(20px) scale(0.95);
  transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.animate-title-bounce.animate-visible {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Animation Delays */
.delay-1 {
  transition-delay: 0.1s;
}

.delay-2 {
  transition-delay: 0.2s;
}

.delay-3 {
  transition-delay: 0.3s;
}

.delay-4 {
  transition-delay: 0.4s;
}

.delay-5 {
  transition-delay: 0.5s;
}

/* Reduced motion - respect user preferences */
@media (prefers-reduced-motion: reduce) {
  .animate-on-scroll {
    opacity: 1;
    transform: none;
    transition: none;
  }

  .animate-on-scroll.animate-visible {
    opacity: 1;
    transform: none;
  }
}
