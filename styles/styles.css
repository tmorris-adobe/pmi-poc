/*
 * Luo Medical Design System
 * Migrated from https://www.luomedical.com/
 * Updated: product-hero, faq-accordion, steps, dosage cards, image carousel, order button
 */

:root {
  /* Luo Medical Colors - Blue/Purple/Teal Theme */
  --color-white: #fff;
  --color-deep-blue: #000A77;
  --color-navy: #0D1B4C;
  --color-purple: #9333EA;
  --color-violet: #7C3AED;
  --color-teal: #00C4E8;
  --color-teal-text: #01CFC9; /* rgb(1, 207, 201) - used for accent text */
  --color-dark-navy: #1a1a2e;
  --color-transparent-white: rgba(255, 255, 255, 0.1);

  /* Alias (matches --color-deep-blue; used broadly in button/legal styles) */
  --color-dark-blue: #000A77;

  /* Semantic colors */
  --background-color: var(--color-white);
  --light-color: #f8f8f8;
  --dark-color: var(--color-dark-navy);
  --text-color: #131313;
  --text-color-inverted: var(--color-white);
  --link-color: var(--color-purple);
  --link-hover-color: var(--color-violet);
  --accent-color: var(--color-purple);

  /* Gradient - Using original Luo background image for accurate branding */
  --gradient-primary: url('/styles/login-background.jpg');

  /* CSS fallback gradient (used when image not available) */
  --gradient-fallback:
    radial-gradient(ellipse 80% 70% at 100% 0%, var(--color-teal) 0%, transparent 70%),
    radial-gradient(ellipse 90% 90% at 0% 100%, var(--color-purple) 0%, transparent 70%),
    linear-gradient(135deg, var(--color-deep-blue) 0%, var(--color-navy) 100%);

  /* Fonts */
  --body-font-family: "DM Sans", dm-sans-fallback, sans-serif;
  --heading-font-family: degular-display, degular-fallback, sans-serif;

  /* Body sizes */
  --body-font-size-m: 18px;
  --body-font-size-s: 16px;
  --body-font-size-xs: 14px;

  /* Heading sizes */
  --heading-font-size-xxl: 64px;
  --heading-font-size-xl: 48px;
  --heading-font-size-l: 36px;
  --heading-font-size-m: 28px;
  --heading-font-size-s: 22px;
  --heading-font-size-xs: 18px;

  /* Spacing */
  --spacing-xs: 8px;
  --spacing-s: 16px;
  --spacing-m: 24px;
  --spacing-l: 40px;
  --spacing-xl: 64px;

  /* Border radius */
  --border-radius-s: 3px;
  --border-radius-m: 8px;
  --border-radius-l: 16px;
  --border-radius-pill: 50px;

  /* Nav height */
  --nav-height: 64px;

  /* Transitions */
  --transition-fast: 0.15s ease;
  --transition-base: 0.2s ease;
  --transition-slow: 0.3s ease;
}

/* Fallback fonts */
@font-face {
  font-family: degular-fallback;
  size-adjust: 100%;
  src: local('Arial');
}

@font-face {
  font-family: dm-sans-fallback;
  size-adjust: 100%;
  src: local('Arial');
}

@media (width >= 900px) {
  :root {
    /* Heading sizes - desktop */
    --heading-font-size-xxl: 64px;
    --heading-font-size-xl: 48px;
    --heading-font-size-l: 36px;
    --heading-font-size-m: 28px;
    --heading-font-size-s: 22px;
    --heading-font-size-xs: 18px;
  }
}

@media (width < 600px) {
  :root {
    /* Heading sizes - mobile */
    --heading-font-size-xxl: 40px;
    --heading-font-size-xl: 32px;
    --heading-font-size-l: 26px;
    --heading-font-size-m: 22px;
    --heading-font-size-s: 18px;
    --heading-font-size-xs: 16px;
  }
}

body {
  display: none;
  margin: 0;
  background-color: var(--background-color);
  color: var(--text-color);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-m);
  line-height: 1.6;
  letter-spacing: 0.1px;
}

body.appear {
  display: block;
}

header {
  height: var(--nav-height);
}

/* Header overlays hero on patient/HCP pages - don't reserve space */
body:has(.section.hero-patient) header,
body:has(.section.hero-hcp) header {
  height: 0;
}

/* Hide default header on gateway pages (age verification, HCP) - but not gateway-header */
body:has(.hero-gateway) header:not(.gateway-header),
body:has(.hero-gateway-hcp) header:not(.gateway-header) {
  height: 0;
  overflow: hidden;
}

header .header,
footer .footer {
  visibility: hidden;
}

header .header[data-block-status="loaded"],
footer .footer[data-block-status="loaded"] {
  visibility: visible;
}

/* Headings */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin-top: 0.8em;
  margin-bottom: 0.25em;
  font-family: var(--heading-font-family);
  font-weight: 400;
  line-height: 1;
  letter-spacing: 0.1px;
  scroll-margin: 40px;
}

h1 { font-size: var(--heading-font-size-xxl); }
h2 { font-size: var(--heading-font-size-xl); }
h3 { font-size: var(--heading-font-size-l); }
h4 { font-size: var(--heading-font-size-m); }
h5 { font-size: var(--heading-font-size-s); }
h6 { font-size: var(--heading-font-size-xs); }

/* Italic headings (display style) */
h1 em,
h2 em,
h3 em {
  font-style: italic;
}

p,
dl,
ol,
ul,
pre,
blockquote {
  margin-top: 0.8em;
  margin-bottom: 0.25em;
}

code,
pre {
  font-size: var(--body-font-size-s);
}

pre {
  padding: 16px;
  border-radius: var(--border-radius-m);
  background-color: var(--light-color);
  overflow-x: auto;
  white-space: pre;
}

main > div {
  margin: 40px 16px;
}

input,
textarea,
select,
button {
  font: inherit;
}

/* Links */
a:any-link {
  color: var(--link-color);
  text-decoration: none;
  overflow-wrap: break-word;
  transition: color var(--transition-base);
}

a:hover {
  color: var(--link-hover-color);
  text-decoration: underline;
}

/* Accessibility - Focus Indicators */
*:focus-visible {
  outline: 3px solid var(--color-violet);
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible,
select:focus-visible,
input:focus-visible {
  outline: 3px solid var(--color-violet);
  outline-offset: 2px;
}

/* Skip link for keyboard users */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: white;
  color: var(--color-dark-navy);
  padding: 8px 16px;
  text-decoration: none;
  z-index: 10000;
  border-radius: 0 0 4px 0;
}

.skip-link:focus {
  top: 0;
}

/* Buttons - Primary */
a.button:any-link,
button {
  box-sizing: border-box;
  display: inline-block;
  max-width: 100%;
  margin: 12px 0;
  border: 2px solid transparent;
  border-radius: var(--border-radius-pill);
  padding: 16px 32px;
  font-family: var(--heading-font-family);
  font-style: normal;
  font-weight: 400;
  font-size: 20px;
  line-height: 1.25;
  text-align: center;
  text-decoration: none;
  background-color: var(--color-white);
  color: var(--color-dark-blue);
  cursor: pointer;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: all var(--transition-base);
}

a.button:hover,
a.button:focus,
button:hover,
button:focus {
  background-color: var(--color-dark-blue);
  color: var(--color-white);
  cursor: pointer;
}

button:disabled,
button:disabled:hover {
  background-color: var(--light-color);
  color: var(--dark-color);
  cursor: not-allowed;
  opacity: 0.6;
}

/* Buttons - Secondary (outline) */
a.button.secondary,
button.secondary {
  background-color: transparent;
  border: 2px solid var(--color-white);
  color: var(--color-white);
}

a.button.secondary:hover,
button.secondary:hover {
  background-color: var(--color-white);
  color: var(--color-dark-blue);
}

/* Buttons - Slide Reveal Animation (reusable for square buttons) */
.button-slide,
a.button-slide:any-link {
  position: relative;
  display: inline-block;
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  padding: 19px 60px 19px 25px;
  border-radius: 0;
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 20px;
  font-weight: 600;
  overflow: hidden;
  transition: padding-left 600ms ease;
}

/* Hidden arrow panel - slides in from left */
.button-slide::before {
  content: "→";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  font-size: 20px;
  transform: translateX(-100%);
  transition: transform 600ms ease;
}

/* Arrow after text (right side) */
.button-slide::after {
  content: "→";
  position: absolute;
  right: 25px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 20px;
  transition: opacity 400ms ease;
}

/* Hover state - synchronized animation */
.button-slide:hover {
  padding-left: 85px;
}

.button-slide:hover::before {
  transform: translateX(0);
}

.button-slide:hover::after {
  opacity: 0;
}

/* Form elements */
input[type="text"],
input[type="email"],
input[type="password"],
textarea,
select {
  padding: 20px 25px;
  border: 1px solid var(--color-white);
  border-radius: var(--border-radius-s);
  background-color: var(--color-transparent-white);
  color: var(--color-white);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
  transition: border-color var(--transition-base);
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--color-white);
  outline: none;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);
}

input::placeholder,
textarea::placeholder {
  color: rgba(255, 255, 255, 0.7);
}

main img {
  max-width: 100%;
  width: auto;
  height: auto;
}

.icon {
  display: inline-block;
  height: 24px;
  width: 24px;
}

.icon img {
  height: 100%;
  width: 100%;
}

/* Sections */
main > .section {
  margin: 40px 0;
}

/* Hero + Hero-Gateway seamless connection */
main > .section.hero-container {
  margin: 0;
}

/* ==========================================================================
   Patient Pages - Continuous Gradient Flow
   Gradient applied to body, sections are transparent to show through
   ========================================================================== */

/* Patient pages - gradient flows from top through product section */
body:has(.hero-patient) {
  background-color: var(--color-white);
  background-image: var(--bg-gradient-hero);
  background-size: 100% 3100px;
  background-position: right top;
  background-repeat: no-repeat;
}

/* HCP pages - no body gradient; gradient is on the hero section itself */
body:has(.hero-hcp) {
  background-color: var(--color-white);
  background-image: none;
}

/* Hero section transparent to show body gradient */
main > .section.hero-patient,
main > .section.hero-hcp {
  background: transparent;
}

main > .section.hero-gateway-container {
  margin: 0;
}

/* Gateway pages - seamless gradient sections */
body:has(.hero-gateway) {
  background: var(--gradient-primary);
  background-size: cover;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-attachment: fixed;
  height: 100vh;
  overflow: hidden;
}

/* HCP gateway - same gradient but allows scrolling for longer content */
body:has(.hero-gateway-hcp) {
  background: var(--gradient-primary);
  background-size: cover;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-attachment: fixed;
  min-height: 100vh;
}

body:has(.hero-gateway) main > .section,
body:has(.hero-gateway-hcp) main > .section {
  margin: 0;
}

body:has(.hero-gateway) main,
body:has(.hero-gateway-hcp) main {
  background: transparent;
}

body:has(.hero-gateway) header,
body:has(.hero-gateway) footer,
body:has(.hero-gateway-hcp) header,
body:has(.hero-gateway-hcp) footer {
  background: transparent;
}

/* Hide empty footer on gateway pages */
body:has(.hero-gateway) footer:empty,
body:has(.hero-gateway-hcp) footer:empty {
  display: none;
}

/* Hide metadata block from display */
main > .section.metadata-container {
  display: none;
}

main > .section > div {
  max-width: 1200px;
  margin: auto;
  padding: 0 24px;
}

main > .section:first-of-type {
  margin-top: 0;
}

@media (width >= 900px) {
  main > .section > div {
    padding: 0 32px;
  }
}

/* Section variants */
main .section.light,
main .section.highlight {
  background-color: var(--light-color);
  margin: 0;
  padding: 40px 0;
}

/* Dark section with gradient background */
main .section.dark,
main .section.gradient {
  background: var(--gradient-primary);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color: var(--text-color-inverted);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

main .section.dark h1,
main .section.dark h2,
main .section.dark h3,
main .section.dark h4,
main .section.dark h5,
main .section.dark h6,
main .section.dark p,
main .section.gradient h1,
main .section.gradient h2,
main .section.gradient h3,
main .section.gradient h4,
main .section.gradient h5,
main .section.gradient h6,
main .section.gradient p {
  color: var(--text-color-inverted);
}

main .section.dark a:any-link,
main .section.gradient a:any-link {
  color: var(--text-color-inverted);
}

/* Centered content */
main .section.center {
  text-align: center;
}

main .section.center > div {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ==========================================================================
   Form Elements - Luo Medical Style
   ========================================================================== */

/* Form container on gradient backgrounds */
.form-gateway {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-m);
  max-width: 400px;
  width: 100%;
}

/* Form labels */
.form-gateway label,
.gradient label,
.dark label {
  color: var(--text-color-inverted);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
  display: block;
  margin-bottom: var(--spacing-xs);
}

/* Select dropdowns - transparent white style */
.form-gateway select,
.gradient select,
.dark select {
  appearance: none;
  background-color: rgba(255, 255, 255, 0.1);
  border: 1px solid var(--color-white);
  border-radius: 3px;
  color: var(--text-color-inverted);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
  padding: 20px 25px;
  padding-right: 45px;
  width: 100%;
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='white' d='M6 8L0 0h12z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 20px center;
}

.form-gateway select:focus,
.gradient select:focus,
.dark select:focus {
  outline: none;
  border-color: var(--color-violet);
  box-shadow: 0 0 0 2px rgba(124, 58, 237, 0.3);
}

/* Date picker row - side by side */
.form-gateway .date-row {
  display: flex;
  gap: var(--spacing-s);
}

.form-gateway .date-row select {
  flex: 1;
  padding: 20px 15px;
}

/* Checkbox styling */
.form-gateway input[type="checkbox"] {
  appearance: none;
  width: 20px;
  height: 20px;
  border: 1px solid var(--color-white);
  border-radius: 3px;
  background-color: transparent;
  cursor: pointer;
  vertical-align: middle;
  margin-right: var(--spacing-xs);
}

.form-gateway input[type="checkbox"]:checked {
  background-color: var(--color-white);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24'%3E%3Cpath fill='%232A9D8F' d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
}

/* Checkbox label */
.form-gateway .checkbox-label {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xs);
  font-size: var(--body-font-size-xs);
  color: var(--text-color-inverted);
  line-height: 1.4;
}

/* Full-width submit button on gradient */
.form-gateway .button-submit,
.form-gateway button[type="submit"] {
  width: 100%;
  padding: 20px 40px;
  background-color: var(--color-white);
  color: var(--color-dark-blue);
  font-family: var(--heading-font-family);
  font-size: 20px;
  font-weight: 400;
  border: none;
  border-radius: var(--border-radius-pill);
  cursor: pointer;
  transition: all var(--transition-base);
  margin-top: var(--spacing-m);
}

.form-gateway .button-submit:hover,
.form-gateway button[type="submit"]:hover {
  background-color: var(--color-dark-blue);
  color: var(--color-white);
}

.form-gateway .button-submit:disabled,
.form-gateway button[type="submit"]:disabled {
  background-color: rgba(255, 255, 255, 0.3);
  color: rgba(255, 255, 255, 0.6);
  cursor: not-allowed;
}

/* Language selector - pill style like original */
.language-selector,
main > .section > div > p:has(a[href*="/ca/"]):has(a[href*="/fr/"]) {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  gap: var(--spacing-xs);
  padding: 12px 24px;
  background-color: var(--color-white);
  border-radius: var(--border-radius-pill);
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
  margin: 0 auto;
}

/* Center the language selector in its container */
main > .section:has(> div > p > a[href*="/ca/"]):has(> div > p > a[href*="/fr/"]) > div {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-bottom: var(--spacing-xl);
}

.language-selector a,
main > .section > div > p:has(a[href*="/ca/"]) a {
  color: var(--color-dark-blue);
  text-decoration: none;
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
}

.language-selector a:hover,
main > .section > div > p:has(a[href*="/ca/"]) a:hover {
  text-decoration: underline;
}

.language-selector span {
  color: var(--color-dark-blue);
}

/* Gateway footer section - continues gradient with starburst */
main .section.gateway-footer {
  background: var(--gradient-primary);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  margin: 0;
  padding: 0 0 var(--spacing-xl);
}

main .section.gateway-footer > div {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0;
}

/* Bottom starburst decoration */
main .section.gateway-footer picture,
main .section.gateway-footer img {
  max-width: 300px;
  width: 100%;
  height: auto;
  opacity: 0.4;
  margin-bottom: var(--spacing-l);
}

@media (width >= 900px) {
  main .section.gateway-footer picture,
  main .section.gateway-footer img {
    max-width: 400px;
  }
}

/* ==========================================================================
   Legal Content Pages (Terms of Use, Privacy Policy)
   Scoped to pages containing a hero-legal section
   ========================================================================== */

/* Header overlays hero on legal pages - don't reserve space */
body:has(.hero-legal) header {
  height: 0;
}

/* Hero-Legal banner - blue gradient with centered white title */
/* Section Metadata style: hero-legal → adds .hero-legal class to the section */
main > .section.hero-legal {
  margin: 0;
  background: var(--bg-gradient-hero);
  background-size: 100% 100%;
  background-position: center top;
  background-repeat: no-repeat;
  padding: 285px 0 220px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

main > .section.hero-legal > div {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

main > .section.hero-legal h1 {
  color: #fff;
  font-family: var(--heading-font-family);
  font-size: 64px;
  font-weight: 400;
  font-style: normal;
  line-height: 1;
  margin: 0;
}

/* Legal content area styling - scoped to pages with hero-legal */
/* Content overlaps into the hero gradient; white background with beveled top-right corner */
body:has(.hero-legal) main > .section:not(.hero-legal):not(:last-child) {
  position: relative;
  max-width: 820px;
  margin: -127px auto 0;
  padding: 0;
  background: transparent;
  z-index: 1;
}

/* Beveled corner shape - diagonal cut at top right matching original SVG (inline data URI) */
body:has(.hero-legal) main > .section:not(.hero-legal):not(:last-child)::before {
  content: '';
  display: block;
  width: 100%;
  height: 84px;
  background: url("data:image/svg+xml,%3Csvg width='821' height='84' viewBox='0 0 821 84' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 6.76278C0 3.02781 3.02779 0 6.76277 0H741.725C743.535 0 745.27 0.726119 746.541 2.01579L819.054 75.5943C820.301 76.8596 821 78.5648 821 80.3413V83.3942H0V6.76278Z' fill='white'/%3E%3C/svg%3E") no-repeat center bottom / 100%;
  margin-bottom: -1px;
}

body:has(.hero-legal) main > .section:not(.hero-legal):not(:last-child) > div {
  max-width: 780px;
  margin: 0 auto;
  padding: 20px 107px 40px;
  background: #fff;
}

/* Legal page h4 - section headings */
body:has(.hero-legal) main h4 {
  font-family: var(--heading-font-family);
  font-size: 32px;
  font-weight: 400;
  color: var(--color-deep-blue);
  margin-top: var(--spacing-xl);
  margin-bottom: var(--spacing-m);
  line-height: 1;
}

body:has(.hero-legal) main h4:first-of-type {
  margin-top: var(--spacing-l);
}

/* Legal page body text */
body:has(.hero-legal) main p {
  font-family: var(--heading-font-family);
  font-size: var(--body-font-size-s);
  font-weight: 400;
  color: var(--color-deep-blue);
  line-height: 1.2;
  margin-bottom: 20px;
}

/* Italic text (Last Updated date) */
body:has(.hero-legal) main p em {
  font-style: italic;
  color: var(--color-deep-blue);
}

/* Legal page lists */
body:has(.hero-legal) main ul,
body:has(.hero-legal) main ol {
  margin-left: 30px;
  padding-left: var(--spacing-m);
  margin-bottom: var(--spacing-m);
  color: var(--color-deep-blue);
}

body:has(.hero-legal) main ul {
  list-style-type: disc;
}

body:has(.hero-legal) main ol {
  list-style-type: decimal;
}

body:has(.hero-legal) main li {
  font-family: var(--heading-font-family);
  font-size: var(--body-font-size-s);
  color: var(--color-deep-blue);
  line-height: 1.5;
  margin-bottom: var(--spacing-xs);
}

/* Strong text in legal content */
body:has(.hero-legal) main strong {
  font-weight: 600;
}

/* Mobile responsive for hero-legal */
@media (width < 900px) {
  main > .section.hero-legal {
    padding: 160px 0 100px;
  }

  main > .section.hero-legal h1 {
    font-size: 40px;
  }

  body:has(.hero-legal) main > .section:not(.hero-legal):not(:last-child) {
    margin: -92px 20px 0;
  }

  body:has(.hero-legal) main > .section:not(.hero-legal):not(:last-child) > div {
    padding: 0 30px 30px;
  }
}

/* ==========================================================================
   Section-Based Page Styles
   Use Section Metadata blocks to apply these styles via class names
   ========================================================================== */

/* Background Gradient Variables using actual images */
:root {
  --bg-gradient-hero: url('/styles/backgrounds/footer-gradient-background.jpg');
  --bg-gradient-mission: url('/styles/backgrounds/footer-gradient-background-flip.jpg');
  --bg-gradient-product: url('/styles/backgrounds/footer-gradient-background.jpg');
  --bg-gradient-even: url('/styles/backgrounds/bg-gradient-even.png');
  --bg-gradient-odd: url('/styles/backgrounds/bg-gradient-odd.png');
}

/* ==========================================================================
   Section Background Styles (applied via Section Metadata)
   ========================================================================== */

/* Hero gradient background */
main > .section.bg-hero {
  background: var(--bg-gradient-hero);
  background-size: 100% 100%;
  background-position: center top;
  background-repeat: no-repeat;
  color: var(--text-color-inverted);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* On patient pages, hero section is transparent to show body gradient */
body:has(.hero-patient) main > .section.bg-hero.hero-patient {
  background: transparent;
}

/* On HCP pages, hero has its own gradient (not body-level) so it doesn't bleed */
body:has(.hero-hcp) main > .section.bg-hero.hero-hcp {
  background: var(--bg-gradient-hero);
  background-size: cover;
  background-position: right top;
  background-repeat: no-repeat;
}

/* Product gradient background - transparent on patient pages to show unified gradient */
main > .section.bg-product {
  background: var(--bg-gradient-product);
  background-size: 100% 100%;
  background-position: center;
  background-repeat: no-repeat;
  color: var(--text-color-inverted);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* On patient/HCP pages, product section is transparent - unified gradient shows through */
body:has(.hero-patient) main > .section.bg-product,
body:has(.hero-hcp) main > .section.bg-product {
  background: transparent;
}

/* Even gradient background (teal to white) */
main > .section.bg-even {
  background: var(--bg-gradient-even);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Odd gradient background (white to teal) */
main > .section.bg-odd {
  background: var(--bg-gradient-odd);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Plain white section */
main > .section.bg-white {
  background: var(--background-color);
  margin: 0;
  padding: var(--spacing-xl) 0;
}

/* Light cream/beige background */
main > .section.bg-cream {
  background: linear-gradient(180deg, #f5f0e8 0%, var(--background-color) 100%);
  margin: 0;
  padding: var(--spacing-xl) 0;
  position: relative;
}

/* Hide shadow artifact from product section above */
main > .section.bg-cream::before {
  content: '';
  position: absolute;
  top: -50px;
  left: 0;
  right: 0;
  height: 50px;
  background: linear-gradient(to bottom, transparent 0%, #f5f0e8 70%);
  pointer-events: none;
  z-index: 10;
}

/* Text colors for gradient backgrounds */
main > .section.bg-hero h1,
main > .section.bg-hero h2,
main > .section.bg-hero h3,
main > .section.bg-hero p,
main > .section.bg-product h1,
main > .section.bg-product h2,
main > .section.bg-product h3,
main > .section.bg-product p {
  color: var(--text-color-inverted);
}

main > .section.bg-hero a:any-link,
main > .section.bg-product a:any-link {
  color: var(--text-color-inverted);
}

/* ==========================================================================
   Hero Section Styles
   ========================================================================== */

main > .section.hero-patient {
  min-height: 100vh;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  text-align: left;
  position: relative;
  overflow: hidden;
  padding-top: 160px;
  padding-bottom: 200px;
  z-index: 1;
}

main > .section.hero-patient > div {
  /* Use isolation instead of position:relative to maintain stacking without positioning context */
  isolation: isolate;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  max-width: 550px;
  padding: 0 var(--spacing-xl);
  margin-left: 5%;
  margin-top: 5vh;
}

/* Ensure all text content stays above the image */
main > .section.hero-patient > div > h1,
main > .section.hero-patient > div > p:not(:has(img)) {
  position: relative;
  z-index: 5;
}

/* Hero H1 - "Illuminate" bold, "Possibilities" italic/lighter */
main > .section.hero-patient h1 {
  font-size: 100px;
  font-weight: 700;
  font-style: normal;
  color: var(--text-color-inverted);
  margin-bottom: var(--spacing-m);
  line-height: 1;
  letter-spacing: -0.02em;
}

main > .section.hero-patient h1 em {
  font-weight: 400;
  font-style: italic;
  display: block;
  color: rgba(255, 255, 255, 0.9);
}

main > .section.hero-patient > div > p {
  color: var(--text-color-inverted);
  max-width: 500px;
  margin: 0 0 var(--spacing-m);
  font-size: 25px;
  line-height: 1.5;
}

/* Hero CTA button with slide-reveal animation (matches original site) */
main > .section.hero-patient a.button,
main > .section.hero-patient > div > p > a:not(:has(img)) {
  position: relative;
  display: inline-block;
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  padding: 19px 60px 19px 25px;
  border-radius: 0;
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 23px;
  font-weight: 500;
  margin: var(--spacing-m) 0;
  /* Override generic button overflow to allow ::before to be visible outside */
  overflow: visible;
  white-space: normal;
  /* Main button shifts right on hover - synced with panel animation */
  transition: margin-left 400ms ease-out;
}

/* Hidden arrow panel - slides in from outside the button */
main > .section.hero-patient a.button::before,
main > .section.hero-patient > div > p > a:not(:has(img))::before {
  content: "";
  position: absolute;
  /* Position outside the button - 60px panel + 10px gap = 70px offset */
  left: -70px;
  top: 0;
  bottom: 0;
  width: 60px;
  background-color: var(--color-white);
  /* Arrow as background image */
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  /* Hidden by default, revealed on hover */
  opacity: 0;
  /* Fast panel entrance - 400ms */
  transition: opacity 400ms ease-out;
}

/* Arrow on main button - exits to the right */
main > .section.hero-patient a.button::after,
main > .section.hero-patient > div > p > a:not(:has(img))::after {
  content: "";
  position: absolute;
  right: 21px;
  top: 50%;
  transform: translateY(-50%);
  width: 19px;
  height: 16px;
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  /* Arrow exits at same speed as panel enters */
  transition: transform 400ms ease-out, opacity 400ms ease-out;
}

/* Hover state - synchronized animations */
main > .section.hero-patient a.button:hover,
main > .section.hero-patient > div > p > a:not(:has(img)):hover {
  /* Main button shifts right - reduced gap (35px shift for 10px final gap) */
  margin-left: 35px;
}

main > .section.hero-patient a.button:hover::before,
main > .section.hero-patient > div > p > a:not(:has(img)):hover::before {
  /* Arrow panel becomes visible */
  opacity: 1;
}

main > .section.hero-patient a.button:hover::after,
main > .section.hero-patient > div > p > a:not(:has(img)):hover::after {
  /* Arrow exits to the right at same speed as panel enters */
  transform: translateY(-50%) translateX(40px);
  opacity: 0;
}

/* Hero floating image - anchored to right edge of viewport */
main > .section.hero-patient .hero-image,
main > .section.hero-patient > div > p:has(img) {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: auto;
  z-index: 1;
  margin: 0;
  pointer-events: none;
}

/* Image fills container height and extends leftward, right edge at viewport edge */
main > .section.hero-patient .hero-image img,
main > .section.hero-patient > div > p:has(img) img {
  position: absolute;
  right: 0;
  top: 45%;
  transform: translateY(-50%);
  height: 71%;
  width: auto;
  max-width: none;
  max-height: none;
  /* Hero image entrance animation - uses animation system */
  animation: anim-fade-down-deep 1.2s ease-out 1s both;
  /* Preserve the translateY(-50%) positioning after animation */
  --anim-base-transform: translateY(-50%);
}

/* Apply entrance animations to hero text elements */
main > .section.hero-patient h1 {
  animation: anim-fade-up 0.8s ease-out 0.2s both;
}

main > .section.hero-patient > div > p:not(:has(img)) {
  animation: anim-fade-in 0.6s ease-out 0.5s both;
}

main > .section.hero-patient > div > p:has(a):not(:has(img)) {
  animation: anim-fade-in 0.6s ease-out 0.7s both;
}

/* Desktop adjustments - larger screens get larger images */
@media (width >= 1400px) {
  main > .section.hero-patient h1 {
    font-size: 120px;
  }

  main > .section.hero-patient > div > p {
    font-size: 28px;
  }

  main > .section.hero-patient .hero-image img,
  main > .section.hero-patient > div > p:has(img) img {
    height: 85%;
  }
}

@media (width >= 1200px) and (width < 1400px) {
  main > .section.hero-patient h1 {
    font-size: 110px;
  }

  main > .section.hero-patient .hero-image img,
  main > .section.hero-patient > div > p:has(img) img {
    height: 76%;
  }
}

@media (width >= 900px) and (width < 1200px) {
  main > .section.hero-patient h1 {
    font-size: 100px;
  }

  main > .section.hero-patient .hero-image img,
  main > .section.hero-patient > div > p:has(img) img {
    height: 57%;
    top: auto;
    bottom: 0;
    transform: none;
  }
}

/* Tablet and mobile */
@media (width < 768px) {
  main > .section.hero-patient {
    min-height: auto;
    padding: var(--spacing-xl) 0;
    padding-bottom: var(--spacing-l);
    text-align: center;
    align-items: center;
  }

  main > .section.hero-patient > div {
    align-items: center;
    padding: 0 var(--spacing-m);
  }

  main > .section.hero-patient h1 {
    font-size: 48px;
  }

  main > .section.hero-patient > div > p {
    font-size: 16px;
    text-align: center;
  }

  main > .section.hero-patient .hero-image,
  main > .section.hero-patient > div > p:has(img) {
    position: relative;
    bottom: auto;
    right: auto;
    max-width: 100%;
    margin: var(--spacing-l) auto 0;
  }
}

/* ==========================================================================
   Hero HCP Section - Extends hero-patient styles for HCP page
   ========================================================================== */

main > .section.hero-hcp {
  min-height: 91vh;
  box-sizing: border-box;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  text-align: left;
  position: relative;
  overflow: visible;
  padding-top: 160px;
  padding-bottom: 60px;
  z-index: 1;
}

main > .section.hero-hcp > div {
  isolation: isolate;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  max-width: 550px;
  padding: 0 var(--spacing-xl);
  margin-left: 5%;
  margin-top: 5vh;
}

main > .section.hero-hcp > div > h1,
main > .section.hero-hcp > div > p:not(:has(img)) {
  position: relative;
  z-index: 5;
}

main > .section.hero-hcp h1 {
  font-size: 64px;
  font-weight: 400;
  font-style: normal;
  color: var(--text-color-inverted);
  margin-bottom: var(--spacing-m);
  line-height: 1;
  letter-spacing: -0.02em;
}

main > .section.hero-hcp > div > p {
  color: var(--text-color-inverted);
  max-width: 500px;
  margin: 0 0 var(--spacing-m);
  font-size: 20px;
  line-height: 1.5;
}

/* HCP hero CTA button - same slide-reveal animation as patient hero */
main > .section.hero-hcp a.button,
main > .section.hero-hcp > div > p > a:not(:has(img)) {
  position: relative;
  display: inline-block;
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  padding: 19px 60px 19px 25px;
  border-radius: 0;
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 23px;
  font-weight: 500;
  margin: var(--spacing-m) 0;
  overflow: visible;
  white-space: normal;
  transition: margin-left 400ms ease-out;
}

main > .section.hero-hcp a.button::before,
main > .section.hero-hcp > div > p > a:not(:has(img))::before {
  content: "";
  position: absolute;
  left: -70px;
  top: 0;
  bottom: 0;
  width: 60px;
  background-color: var(--color-white);
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  opacity: 0;
  transition: opacity 400ms ease-out;
}

main > .section.hero-hcp a.button::after,
main > .section.hero-hcp > div > p > a:not(:has(img))::after {
  content: "";
  position: absolute;
  right: 21px;
  top: 50%;
  transform: translateY(-50%);
  width: 19px;
  height: 16px;
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  transition: transform 400ms ease-out, opacity 400ms ease-out;
}

main > .section.hero-hcp a.button:hover,
main > .section.hero-hcp > div > p > a:not(:has(img)):hover {
  margin-left: 35px;
}

main > .section.hero-hcp a.button:hover::before,
main > .section.hero-hcp > div > p > a:not(:has(img)):hover::before {
  opacity: 1;
}

main > .section.hero-hcp a.button:hover::after,
main > .section.hero-hcp > div > p > a:not(:has(img)):hover::after {
  transform: translateY(-50%) translateX(40px);
  opacity: 0;
}

/* HCP hero floating image */
main > .section.hero-hcp .hero-image,
main > .section.hero-hcp > div > p:has(img) {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  max-width: none;
  z-index: 1;
  margin: 0;
  pointer-events: none;
}

main > .section.hero-hcp .hero-image img,
main > .section.hero-hcp > div > p:has(img) img {
  position: absolute;
  left: 76%;
  top: 62%;
  transform: translate(-50%, -50%);
  height: 80%;
  width: auto;
  max-width: none;
  max-height: none;
  animation: anim-fade-down-deep 1.2s ease-out 1s both;
  --anim-base-transform: translate(-50%, -50%);
}

main > .section.hero-hcp h1 {
  animation: anim-fade-up 0.8s ease-out 0.2s both;
}

main > .section.hero-hcp > div > p:not(:has(img)) {
  animation: anim-fade-in 0.6s ease-out 0.5s both;
}

@media (width >= 1400px) {
  main > .section.hero-hcp h1 {
    font-size: 80px;
  }

  main > .section.hero-hcp .hero-image img,
  main > .section.hero-hcp > div > p:has(img) img {
    height: 80%;
  }
}

@media (width >= 1200px) and (width < 1400px) {
  main > .section.hero-hcp .hero-image img,
  main > .section.hero-hcp > div > p:has(img) img {
    height: 70%;
  }
}

@media (width >= 900px) and (width < 1200px) {
  main > .section.hero-hcp .hero-image img,
  main > .section.hero-hcp > div > p:has(img) img {
    height: 55%;
    top: auto;
    bottom: -5%;
    transform: translateX(-50%);
  }
}

@media (width < 768px) {
  main > .section.hero-hcp {
    min-height: auto;
    padding: var(--spacing-xl) 0;
    padding-bottom: var(--spacing-l);
    text-align: center;
    align-items: center;
  }

  main > .section.hero-hcp > div {
    align-items: center;
    padding: 0 var(--spacing-m);
  }

  main > .section.hero-hcp h1 {
    font-size: 40px;
  }

  main > .section.hero-hcp > div > p {
    font-size: 16px;
    text-align: center;
  }

  main > .section.hero-hcp .hero-image,
  main > .section.hero-hcp > div > p:has(img) {
    position: relative;
    bottom: auto;
    right: auto;
    max-width: 100%;
    margin: var(--spacing-l) auto 0;
  }
}

/* ==========================================================================
   HCP Page-Specific Overrides
   Scoped with body:has(.hero-hcp) to avoid affecting patient page
   ========================================================================== */

/* ---------- HCP Mission Section ----------
   Original site uses a gradient background with two-column layout:
   text on the left, 4 outlined tile cards in a 2x2 grid on the right.
   This completely overrides the patient-page frosted-glass style. */

/* Reset section: remove clip-path, background image, frosted glass */
body:has(.hero-hcp) main > .section.mission {
  clip-path: none;
  margin: 0;
  max-width: none;
  min-height: auto;
  overflow: visible;
  padding: 160px 90px 209px;
  background: var(--color-white) url('/styles/backgrounds/big-gradient-bg.png') center top / cover no-repeat;
  display: grid;
  grid-template-columns: 5fr 7fr;
  gap: 0 40px;
  align-items: start;
}

/* Remove the lifestyle-bag background pseudo-element */
body:has(.hero-hcp) main > .section.mission::before {
  display: none;
}

/* Reset the default-content-wrapper (left column) */
body:has(.hero-hcp) main > .section.mission > .default-content-wrapper {
  grid-column: 1;
  grid-row: 1;
  position: relative;
  z-index: 2;
  max-width: none;
  margin: 0;
  padding: 0;
  background: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border-radius: 0;
}

/* Cards wrapper (right column) - spans all rows */
body:has(.hero-hcp) main > .section.mission > .cards-wrapper {
  grid-column: 2;
  grid-row: 1;
  position: relative;
  z-index: 2;
  max-width: none;
  margin: 0;
  padding: 0;
  background: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border-radius: 0;
}

/* Heading */
body:has(.hero-hcp) main > .section.mission h2 {
  font-size: 54px;
  line-height: 1;
  margin-bottom: 0;
}

/* h2 strong - deep blue bold (not teal italic as on patient page) */
body:has(.hero-hcp) main > .section.mission h2 strong {
  color: var(--color-deep-blue);
  font-style: normal;
  font-weight: 700;
}

/* HR separator after heading */
body:has(.hero-hcp) main > .section.mission h2::after {
  content: '';
  display: block;
  width: 147px;
  height: 1px;
  background-color: var(--color-deep-blue);
  margin: 30px 0;
}

/* Body paragraphs */
body:has(.hero-hcp) main > .section.mission p {
  font-size: 23px;
  line-height: 1.2;
  color: var(--color-deep-blue);
  font-family: var(--heading-font-family);
}

/* "find out more" link in text */
body:has(.hero-hcp) main > .section.mission p a {
  color: var(--color-deep-blue);
  text-decoration: underline;
  font-weight: 700;
}

body:has(.hero-hcp) main > .section.mission p a:hover {
  color: var(--color-teal-text);
}

/* Cards block - 2x2 grid of outlined tiles with staggered right column */
body:has(.hero-hcp) main > .section.mission .cards > ul {
  grid-template-columns: repeat(2, 1fr);
  gap: 30px;
}

/* Stagger: offset right column tiles down */
body:has(.hero-hcp) main > .section.mission .cards > ul > li:nth-child(2) {
  margin-top: 80px;
}

body:has(.hero-hcp) main > .section.mission .cards > ul > li:nth-child(4) {
  margin-top: 50px;
}

/* Individual tile card - outlined with basil corners (top-right, bottom-left) */
body:has(.hero-hcp) main > .section.mission .cards > ul > li {
  border: none;
  border-radius: 0;
  background: transparent;
  clip-path: polygon(
    0 0,
    calc(100% - 30px) 0,
    100% 30px,
    100% 100%,
    30px 100%,
    0 calc(100% - 30px)
  );
  box-shadow: inset 0 0 0 1px var(--color-deep-blue);
  padding: 0;
  height: 375px;
  box-sizing: border-box;
}

/* Card image container - acts as full card content area */
body:has(.hero-hcp) main > .section.mission .cards .cards-card-image {
  padding: 30px;
  line-height: 1.4;
}

/* Card content paragraph - flex column for icon/heading/text layout */
body:has(.hero-hcp) main > .section.mission .cards .cards-card-image p {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  font-size: 16px;
  font-family: var(--body-font-family);
  color: var(--color-deep-blue);
  line-height: 1.4;
  margin: 0;
}

/* Card icon - small teal SVG icons */
body:has(.hero-hcp) main > .section.mission .cards > ul > li img {
  width: 48px;
  height: 48px;
  aspect-ratio: auto;
  object-fit: contain;
  margin-bottom: 24px;
}

/* Card icon picture wrapper */
body:has(.hero-hcp) main > .section.mission .cards .cards-card-image picture {
  line-height: 0;
}

/* Card heading (strong) - block display to separate from description */
body:has(.hero-hcp) main > .section.mission .cards .cards-card-image strong {
  display: block;
  font-size: 32px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  margin-bottom: 12px;
  line-height: 1.1;
}

/* Card body area if it exists */
body:has(.hero-hcp) main > .section.mission .cards .cards-card-body {
  padding: 16px 30px 30px;
  margin: 0;
}

/* Mobile responsive */
@media (width < 768px) {
  body:has(.hero-hcp) main > .section.mission {
    grid-template-columns: 1fr;
    padding: 60px var(--spacing-m) 80px;
    gap: 40px 0;
  }

  body:has(.hero-hcp) main > .section.mission > .default-content-wrapper {
    grid-column: 1;
  }

  body:has(.hero-hcp) main > .section.mission > .cards-wrapper {
    grid-column: 1;
    grid-row: auto;
  }

  body:has(.hero-hcp) main > .section.mission h2 {
    font-size: 36px;
  }

  body:has(.hero-hcp) main > .section.mission .cards > ul {
    grid-template-columns: 1fr;
  }

  body:has(.hero-hcp) main > .section.mission .cards > ul > li {
    height: auto;
  }

  body:has(.hero-hcp) main > .section.mission .cards > ul > li:nth-child(2),
  body:has(.hero-hcp) main > .section.mission .cards > ul > li:nth-child(4) {
    margin-top: 0;
  }
}

/* Features section - clean white background */
body:has(.hero-hcp) main > .section.bg-even.features {
  background: url('/styles/backgrounds/footer-gradient-background.jpg');
  background-size: cover;
  background-position: center top;
  background-repeat: no-repeat;
  padding: 110px 0 130px;
}

/* Features h3 "Why patients choose Luo?" - white on gradient */
body:has(.hero-hcp) main > .section.features h3 {
  font-size: 45px;
  color: var(--color-white);
  font-weight: 400;
  margin-bottom: 20px;
}

body:has(.hero-hcp) main > .section.features h3 strong {
  color: var(--color-white);
  font-weight: 700;
}

/* White HR separator under heading */
body:has(.hero-hcp) main > .section.features .default-content-wrapper {
  margin-bottom: 40px;
}

body:has(.hero-hcp) main > .section.features h3::after {
  content: '';
  display: block;
  width: 147px;
  height: 1px;
  background-color: var(--color-white);
  margin-top: 21px;
}

/* 4-column grid for features */
body:has(.hero-hcp) main > .section.features .cards > ul {
  grid-template-columns: repeat(4, 1fr);
}

/* Feature cards - transparent, no borders */
body:has(.hero-hcp) main > .section.features .cards > ul > li {
  background: transparent;
  border: none;
  border-radius: 0;
  padding: 0;
  aspect-ratio: unset;
}

/* White icons */
body:has(.hero-hcp) main > .section.features .cards > ul > li img {
  max-width: 55px;
  height: 57px;
  margin-bottom: 20px;
  filter: brightness(0) invert(1);
}

/* White titles */
body:has(.hero-hcp) main > .section.features .cards > ul > li strong {
  font-size: 32px;
  color: var(--color-white);
  margin-bottom: 20px;
}

/* White description text */
body:has(.hero-hcp) main > .section.features .cards > ul > li p {
  font-size: 23px;
  color: var(--color-white);
  line-height: 1.2;
}

@media (width < 1024px) {
  body:has(.hero-hcp) main > .section.features .cards > ul {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (width < 768px) {
  body:has(.hero-hcp) main > .section.features h3 {
    font-size: 32px;
  }

  body:has(.hero-hcp) main > .section.features .cards > ul {
    grid-template-columns: 1fr;
  }

  body:has(.hero-hcp) main > .section.features .cards > ul > li p {
    font-size: 18px;
  }
}

/* Dosing section - deep blue text on transparent gradient (not dark bg-product) */
body:has(.hero-hcp) main > .section.bg-product.banner-left h2,
body:has(.hero-hcp) main > .section.bg-product.banner-right h2,
body:has(.hero-hcp) main > .section.bg-product h2 {
  color: var(--color-deep-blue);
}

body:has(.hero-hcp) main > .section.bg-product.banner-left h2 strong,
body:has(.hero-hcp) main > .section.bg-product.banner-right h2 strong,
body:has(.hero-hcp) main > .section.bg-product h2 strong {
  color: var(--color-teal-text);
}

body:has(.hero-hcp) main > .section.bg-product.banner-left p:not(:has(img)),
body:has(.hero-hcp) main > .section.bg-product.banner-right p:not(:has(img)),
body:has(.hero-hcp) main > .section.bg-product p {
  color: var(--color-deep-blue);
}

/* HCP dosing section - gradient background, adjusted sizing */
body:has(.hero-hcp) main > .section.bg-product.banner-left,
body:has(.hero-hcp) main > .section.bg-product.banner-right {
  background: var(--color-white) url('/styles/backgrounds/big-gradient-bg.png') center top / cover no-repeat;
  height: 947px;
  max-height: 947px;
}

body:has(.hero-hcp) main > .section.bg-product.banner-left h2 strong,
body:has(.hero-hcp) main > .section.bg-product.banner-right h2 strong {
  font-weight: 700;
}

body:has(.hero-hcp) main > .section.bg-product.banner-left p:not(:has(img)),
body:has(.hero-hcp) main > .section.bg-product.banner-right p:not(:has(img)) {
  font-size: 23px;
  line-height: 1.2;
}

/* Dosing section - horizontal line under heading should be deep blue */
body:has(.hero-hcp) main > .section.bg-product.banner-left h2::after,
body:has(.hero-hcp) main > .section.bg-product.banner-right h2::after {
  background-color: var(--color-deep-blue);
}

/* HCP footer gradient - single gradient on main, anchored at bottom */
body:has(.hero-hcp) main {
  background: url('/styles/backgrounds/footer-gradient-background.jpg') center bottom / 100% auto no-repeat;
}

/* HCP FAQ section - transparent to show main gradient through */
body:has(.hero-hcp) main > .section.faq-block {
  background-image: none;
  padding-top: 105px;
}

/* HCP gradient CTA - transparent to show main gradient through */
body:has(.hero-hcp) main > .section.gradient-cta {
  background-image: none;
}

/* Override 2-column grid to centered single column */
body:has(.hero-hcp) main > .section.faq-block > .default-content-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  max-width: 700px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

/* White text for FAQ on gradient */
body:has(.hero-hcp) main > .section.faq-block h5 {
  color: var(--color-white);
  font-size: 24px;
  font-weight: 700;
  margin: 0 0 var(--spacing-s);
}

body:has(.hero-hcp) main > .section.faq-block h2 {
  color: var(--color-white);
  max-width: none;
  text-align: center;
}

body:has(.hero-hcp) main > .section.faq-block h2::after {
  display: none;
}

body:has(.hero-hcp) main > .section.faq-block > .default-content-wrapper > p {
  color: var(--color-white);
  max-width: none;
  text-align: center;
}

/* White block CTA button */
body:has(.hero-hcp) main > .section.faq-block .button-container a,
body:has(.hero-hcp) main > .section.faq-block > .default-content-wrapper > p.button-container > a {
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  border-color: var(--color-white);
  padding-left: 60px;
}

/* HCP FAQ button hover - keep white background, white arrow panel */
body:has(.hero-hcp) main > .section.faq-block .button-container a:hover,
body:has(.hero-hcp) main > .section.faq-block > .default-content-wrapper > p.button-container > a:hover {
  background-color: var(--color-white);
  color: var(--color-deep-blue);
}

body:has(.hero-hcp) main > .section.faq-block .button-container a::before,
body:has(.hero-hcp) main > .section.faq-block > .default-content-wrapper > p.button-container > a::before {
  background-color: var(--color-white);
  border-color: var(--color-white);
}

/* HCP Sources section - transparent to let FAQ gradient show through */
body:has(.hero-hcp) main > .section.sources {
  background: transparent;
  position: relative;
  z-index: 1;
}

body:has(.hero-hcp) main > .section.sources h4 {
  color: var(--color-white);
  border-top-color: rgba(255, 255, 255, 0.4);
}

body:has(.hero-hcp) main > .section.sources li {
  color: rgba(255, 255, 255, 0.8);
}

/* ==========================================================================
   HCP Guide Page (A Guide for HCPs)
   ========================================================================== */

/* Single unified background on guide page — matches original (#f7f3ed) */
body:has(.guide-hero) main {
  background: #f7f3ed;
}

/* Remove section margins so there's no white gap between sections */
body:has(.guide-hero) main > .section {
  margin: 0;
}

/* Hide empty metadata section */
body:has(.guide-hero) main > .section:empty {
  display: none;
}

/* Guide hero - clean white/cream background with centered text */
/* Override base hero-hcp styles completely */
main > .section.hero-hcp.guide-hero {
  background: transparent;
  background-image: none;
  padding: 200px 20px 60px;
  text-align: center;
  max-width: 100%;
  min-height: auto;
  height: auto;
  display: block;
  overflow: visible;
}

main > .section.hero-hcp.guide-hero > .default-content-wrapper {
  max-width: 900px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  position: static;
  width: 100%;
  padding: 0 20px;
  align-items: center;
  margin-left: auto;
  margin-top: 0;
}

main > .section.hero-hcp.guide-hero h1 {
  font-size: 96px;
  font-weight: 500;
  color: var(--color-deep-blue);
  margin-top: 5px;
  margin-bottom: 20px;
  text-align: center;
  line-height: 1;
  position: static;
  max-width: 100%;
  order: 1;
  letter-spacing: 0.1px;
}

/* Subtitle "CBD & Medical cannabis" - reorder above h1 */
main > .section.hero-hcp.guide-hero > .default-content-wrapper > p:first-of-type {
  font-size: 20px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1px;
  color: var(--color-deep-blue);
  margin-bottom: 5px;
  margin-top: 0;
  order: 0;
}

/* Description text */
main > .section.hero-hcp.guide-hero > .default-content-wrapper > p:last-of-type {
  font-size: 16px;
  line-height: 22.4px;
  color: var(--color-deep-blue);
  order: 2;
  text-align: center;
}

/* FAQ cards section - transparent, inherits main background */
body:has(.hero-hcp) main > .section.faq-cards-section {
  background: transparent;
  background-image: none;
  padding: 40px 20px 80px;
}

/* FAQ cards grid */
body:has(.hero-hcp) main > .section.faq-cards-section .cards.faq-cards > ul {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 45px 24px;
  list-style: none;
  padding: 0;
  max-width: 1100px;
  margin: 0 auto;
}

body:has(.hero-hcp) main > .section.faq-cards-section .cards.faq-cards > ul > li {
  background: #f2eee3;
  border-radius: 0 30px 0 30px;
  padding: 45px 28px 40px;
  transition: box-shadow 0.2s ease;
  cursor: pointer;
  min-height: 380px;
}

body:has(.hero-hcp) main > .section.faq-cards-section .cards.faq-cards > ul > li:hover {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

/* Category tag - first bold text */
body:has(.hero-hcp) main > .section.faq-cards-section .cards.faq-cards > ul > li p strong:first-child {
  display: inline-block;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--color-white);
  background: var(--color-deep-blue);
  padding: 14px 18px;
  border-radius: 5px;
  margin-bottom: 24px;
}

/* Title - second bold text */
body:has(.hero-hcp) main > .section.faq-cards-section .cards.faq-cards > ul > li p strong:nth-of-type(2) {
  display: block;
  font-size: 32px;
  font-weight: 400;
  color: var(--color-deep-blue);
  margin-bottom: 16px;
  line-height: 32px;
}

/* Excerpt text */
body:has(.hero-hcp) main > .section.faq-cards-section .cards.faq-cards > ul > li p {
  font-size: 16px;
  line-height: 22.4px;
  color: var(--color-deep-blue);
}

@media (width < 900px) {
  body:has(.hero-hcp) main > .section.faq-cards-section .cards.faq-cards > ul {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (width < 600px) {
  body:has(.hero-hcp) main > .section.guide-hero h1 {
    font-size: 48px;
  }

  body:has(.hero-hcp) main > .section.faq-cards-section .cards.faq-cards > ul {
    grid-template-columns: 1fr;
  }
}

/* ==========================================================================
   FAQ Detail Pages
   ========================================================================== */

/* FAQ detail page - white background */
main > .section.faq-detail {
  background: var(--color-white);
  padding: 160px 20px 60px;
  max-width: 100%;
}

main > .section.faq-detail > .default-content-wrapper {
  max-width: 740px;
  margin: 0 auto;
  padding: 0 20px;
}

/* H1 */
main > .section.faq-detail h1 {
  font-size: 64px;
  font-weight: 400;
  line-height: 64px;
  color: var(--color-deep-blue);
  margin: 0 0 24px;
}

/* Body paragraphs */
main > .section.faq-detail p {
  font-size: 20px;
  font-weight: 400;
  line-height: 29.4px;
  color: var(--color-deep-blue);
  margin: 0 0 20px;
}

/* Content links - underlined */
main > .section.faq-detail p a {
  color: var(--color-deep-blue);
  text-decoration: underline;
}

main > .section.faq-detail p a:hover {
  opacity: 0.8;
}

/* Go Back link — target last paragraph in last default-content-wrapper */
main > .section.faq-detail > .default-content-wrapper:last-of-type > p:last-of-type {
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid #dadada;
}

main > .section.faq-detail > .default-content-wrapper:last-of-type > p:last-of-type a {
  font-size: 16px;
  font-weight: 400;
  color: var(--color-deep-blue);
  text-decoration: none;
}

main > .section.faq-detail > .default-content-wrapper:last-of-type > p:last-of-type a:hover {
  text-decoration: underline;
}

/* Native HTML table styling in FAQ content */
main > .section.faq-detail table {
  width: 100%;
  border-collapse: collapse;
  margin: 0 0 20px;
  font-size: 13px;
  color: var(--color-deep-blue);
}

main > .section.faq-detail table thead tr {
  background: #eae2d1;
  font-weight: 700;
}

main > .section.faq-detail table th,
main > .section.faq-detail table td {
  padding: 13px 10px;
  border: 2px solid #f4f0e8;
  font-size: 13px;
  line-height: 1.4;
  text-align: left;
}

/* Table block styling (type-of-medical-cannabis / preparation-de-cannabis-medicinal) */
main > .section.faq-detail [class$="-wrapper"]:has(.block) {
  max-width: 740px;
  margin: 0 auto;
  padding: 0 20px;
}

main > .section.faq-detail .block[class*="medical-cannabis"],
main > .section.faq-detail .block[class*="cannabis-m"] {
  display: table;
  width: 100%;
  border-collapse: collapse;
  margin: 0 0 20px;
  font-size: 13px;
  color: var(--color-deep-blue);
}

main > .section.faq-detail .block[class*="medical-cannabis"] > div,
main > .section.faq-detail .block[class*="cannabis-m"] > div {
  display: table-row;
}

main > .section.faq-detail .block[class*="medical-cannabis"] > div:first-child,
main > .section.faq-detail .block[class*="cannabis-m"] > div:first-child {
  background: #eae2d1;
  font-weight: 700;
}

main > .section.faq-detail .block[class*="medical-cannabis"] > div > div,
main > .section.faq-detail .block[class*="cannabis-m"] > div > div {
  display: table-cell;
  padding: 13px 10px;
  border: 2px solid #f4f0e8;
}

main > .section.faq-detail .block[class*="medical-cannabis"] > div > div p,
main > .section.faq-detail .block[class*="cannabis-m"] > div > div p {
  font-size: 13px;
  line-height: 1.4;
  margin: 0;
}

/* Mobile */
@media (width < 600px) {
  main > .section.faq-detail h1 {
    font-size: 40px;
    line-height: 40px;
  }

  main > .section.faq-detail p {
    font-size: 16px;
    line-height: 24px;
  }
}

/* ==========================================================================
   Two Column Layout (via Section Metadata)
   ========================================================================== */

main > .section.two-col > div {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-xl);
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

main > .section.two-col-reverse > div {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-xl);
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

main > .section.two-col-reverse > div > *:first-child {
  order: 2;
}

main > .section.two-col-reverse > div > *:last-child {
  order: 1;
}

@media (width < 768px) {
  main > .section.two-col > div,
  main > .section.two-col-reverse > div {
    grid-template-columns: 1fr;
    gap: var(--spacing-l);
  }

  main > .section.two-col-reverse > div > *:first-child,
  main > .section.two-col-reverse > div > *:last-child {
    order: unset;
  }
}

/* ==========================================================================
   Content Banner Sections (Product highlight with text + image)
   ========================================================================== */

/* Product banner section - relative for absolute positioning of image */
main > .section.bg-product.banner-left,
main > .section.bg-product.banner-right {
  position: relative;
  height: 883px;
  max-height: 883px;
  padding: 0;
  overflow: hidden; /* Clip the bottle shadow at section bottom */
}

/* Container holds the text content on the right */
main > .section.bg-product.banner-left > div,
main > .section.bg-product.banner-right > div {
  position: static; /* Don't create positioning context - let image position relative to section */
  display: block;
  max-width: 1415px;
  margin: 0 auto;
  padding: 210px 80px;
  height: 100%;
  box-sizing: border-box;
}

/* Text content wrapper - positioned on the right side */
main > .section.bg-product.banner-left > div {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: center;
}

/* All text content in product banner - constrained width on right */
main > .section.bg-product.banner-left > div > h2,
main > .section.bg-product.banner-left > div > p:not(:has(img)) {
  width: 500px;
  max-width: 100%;
}

/* Image wrapper - absolutely positioned on left edge of viewport, bottom-aligned */
/* Uses viewport-relative width so image scales down as viewport narrows */
main > .section.bg-product.banner-left > div > p:has(img),
main > .section.bg-product.banner-left > div > p:has(picture) {
  position: absolute;
  left: 0; /* Align with viewport left edge */
  bottom: -37px;
  width: 55vw; /* Responsive width - scales with viewport */
  max-width: 990px; /* Cap size on very large screens */
  margin: 0;
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
}

/* Banner-right: text on LEFT, image on RIGHT (mirror of banner-left) */
main > .section.bg-product.banner-right > div {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
}

main > .section.bg-product.banner-right > div > h2,
main > .section.bg-product.banner-right > div > p:not(:has(img)) {
  width: 500px;
  max-width: 100%;
}

main > .section.bg-product.banner-right > div > p:has(img),
main > .section.bg-product.banner-right > div > p:has(picture) {
  position: absolute;
  right: 0;
  bottom: -37px;
  width: 55vw;
  max-width: 990px;
  margin: 0;
  display: flex;
  align-items: flex-end;
  justify-content: flex-end;
}

/* Large desktop: slightly larger percentage */
@media (width >= 1400px) {
  main > .section.bg-product.banner-left > div > p:has(img),
  main > .section.bg-product.banner-left > div > p:has(picture),
  main > .section.bg-product.banner-right > div > p:has(img),
  main > .section.bg-product.banner-right > div > p:has(picture) {
    width: 60vw;
    max-width: 990px;
  }
}

/* Medium desktop: balanced size */
@media (width >= 1200px) and (width < 1400px) {
  main > .section.bg-product.banner-left > div > p:has(img),
  main > .section.bg-product.banner-left > div > p:has(picture),
  main > .section.bg-product.banner-right > div > p:has(img),
  main > .section.bg-product.banner-right > div > p:has(picture) {
    width: 55vw;
  }
}

/* Tablet/Stacked layout: text on top, image below anchored to left edge */
/* Matches original site behavior - switches at 1200px */
@media (width < 1200px) {
  main > .section.bg-product.banner-left,
  main > .section.bg-product.banner-right {
    height: auto;
    max-height: none;
    min-height: auto;
  }

  main > .section.bg-product.banner-left > div,
  main > .section.bg-product.banner-right > div {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    padding: var(--spacing-xl) var(--spacing-m);
  }

  main > .section.bg-product.banner-left > div > h2,
  main > .section.bg-product.banner-left > div > p:not(:has(img)),
  main > .section.bg-product.banner-right > div > h2,
  main > .section.bg-product.banner-right > div > p:not(:has(img)) {
    width: 100%;
    max-width: 100%;
  }

  /* Image below text, still anchored to viewport edge */
  main > .section.bg-product.banner-left > div > p:has(img),
  main > .section.bg-product.banner-left > div > p:has(picture) {
    position: relative;
    left: calc(-1 * var(--spacing-m)); /* Offset padding to align with viewport edge */
    bottom: auto;
    width: 70vw;
    max-width: none;
    order: 1; /* Image appears below text */
    margin-top: var(--spacing-l);
    margin-bottom: 0;
    justify-content: flex-start;
  }

  main > .section.bg-product.banner-right > div > p:has(img),
  main > .section.bg-product.banner-right > div > p:has(picture) {
    position: relative;
    right: calc(-1 * var(--spacing-m));
    bottom: auto;
    width: 70vw;
    max-width: none;
    order: 1;
    margin-top: var(--spacing-l);
    margin-bottom: 0;
    justify-content: flex-end;
  }

  main > .section.bg-product.banner-left > div > p > img,
  main > .section.bg-product.banner-left > div > p picture img,
  main > .section.bg-product.banner-right > div > p > img,
  main > .section.bg-product.banner-right > div > p picture img {
    max-height: 500px;
  }
}

/* Text content spacing */
main > .section.bg-product.banner-left > div > h2,
main > .section.bg-product.banner-right > div > h2 {
  margin: 0 0 var(--spacing-m);
}

main > .section.bg-product.banner-left > div > p:not(:has(img)):not(:has(a)),
main > .section.bg-product.banner-right > div > p:not(:has(img)):not(:has(a)) {
  margin: 0 0 var(--spacing-m);
}

main > .section.bg-product.banner-left > div > p:has(a):not(:has(img)),
main > .section.bg-product.banner-right > div > p:has(a):not(:has(img)) {
  margin: var(--spacing-m) 0 0;
}

/* Title styling with horizontal line */
main > .section.bg-product.banner-left h2,
main > .section.bg-product.banner-right h2 {
  font-size: var(--heading-font-size-xxl);
  font-family: var(--heading-font-family);
  font-weight: 400;
  line-height: 1;
  color: var(--text-color-inverted);
  position: relative;
  padding-bottom: var(--spacing-m);
}

/* Horizontal line under title */
main > .section.bg-product.banner-left h2::after,
main > .section.bg-product.banner-right h2::after {
  content: '';
  display: block;
  width: 147px;
  height: 1px;
  background-color: var(--color-white);
  margin-top: var(--spacing-m);
}

/* Strong text in title - white bold on gradient */
main > .section.bg-product.banner-left h2 strong,
main > .section.bg-product.banner-right h2 strong {
  color: var(--text-color-inverted);
  font-weight: 600;
  display: block;
}

/* Body text - exclude image paragraphs */
main > .section.bg-product.banner-left p:not(:has(img)),
main > .section.bg-product.banner-right p:not(:has(img)) {
  color: var(--text-color-inverted);
  font-family: var(--heading-font-family);
  font-size: 20px;
  line-height: 1.4;
  max-width: 500px;
}

/* Banner CTA button with parallax slide animation (matches original site) */
main > .section.bg-product.banner-left a.button,
main > .section.bg-product.banner-right a.button,
main > .section.bg-product.banner-left > div > p > a,
main > .section.bg-product.banner-right > div > p > a {
  position: relative;
  display: inline-block;
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  padding: 19px 60px 19px 25px;
  border-radius: 0;
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 23px;
  font-weight: 500;
  /* Override generic button overflow to allow ::before to be visible outside */
  overflow: visible;
  white-space: normal;
  /* Main button shifts right on hover - synced with panel animation */
  transition: margin-left 400ms ease-out;
}

/* Hidden arrow panel - slides in from outside the button */
main > .section.bg-product.banner-left > div > p > a::before,
main > .section.bg-product.banner-right > div > p > a::before {
  content: "";
  position: absolute;
  /* Position outside the button - 60px panel + 10px gap = 70px offset */
  left: -70px;
  top: 0;
  bottom: 0;
  width: 60px;
  background-color: var(--color-white);
  /* Arrow as background image */
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  /* Hidden by default, revealed on hover */
  opacity: 0;
  /* Fast panel entrance - 400ms */
  transition: opacity 400ms ease-out;
}

/* Arrow on main button - exits to the right */
main > .section.bg-product.banner-left > div > p > a::after,
main > .section.bg-product.banner-right > div > p > a::after {
  content: "";
  position: absolute;
  right: 21px;
  top: 50%;
  transform: translateY(-50%);
  width: 19px;
  height: 16px;
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  /* Arrow exits at same speed as panel enters */
  transition: transform 400ms ease-out, opacity 400ms ease-out;
}

/* Hover state - synchronized animations */
main > .section.bg-product.banner-left > div > p > a:hover,
main > .section.bg-product.banner-right > div > p > a:hover {
  /* Main button shifts right - reduced gap (35px shift for 10px final gap) */
  margin-left: 35px;
}

main > .section.bg-product.banner-left > div > p > a:hover::before,
main > .section.bg-product.banner-right > div > p > a:hover::before {
  /* Arrow panel becomes visible */
  opacity: 1;
}

main > .section.bg-product.banner-left > div > p > a:hover::after,
main > .section.bg-product.banner-right > div > p > a:hover::after {
  /* Arrow exits to the right at same speed as panel enters */
  transform: translateY(-50%) translateX(40px);
  opacity: 0;
}

/* Banner image - large, aligned to bottom-left */
main > .section.bg-product.banner-left > div > p > img,
main > .section.bg-product.banner-right > div > p > img,
main > .section.bg-product.banner-left > div > p picture img,
main > .section.bg-product.banner-right > div > p picture img {
  width: 100%;
  height: auto;
  max-width: none;
  max-height: 832px;
  object-fit: contain;
  object-position: left bottom;
}

/* Mobile: smaller image, still anchored to left edge */
@media (width < 768px) {
  main > .section.bg-product.banner-left > div > p:has(img),
  main > .section.bg-product.banner-left > div > p:has(picture) {
    width: 90vw; /* Larger on mobile to match original */
  }

  main > .section.bg-product.banner-left > div > p > img,
  main > .section.bg-product.banner-left > div > p picture img {
    max-height: 350px;
  }
}

/* --------------------------------------------------------------------------
   Banner Section Scroll Animations
   -------------------------------------------------------------------------- */

/* Product image - slides in from left with rotation */
main > .section.bg-product.banner-left > div > p:has(img),
main > .section.bg-product.banner-left > div > p:has(picture) {
  opacity: 0;
  transform: translate(-15rem, -2rem) rotate(-5deg);
  transition: opacity 1s ease-out, transform 1s ease-out;
}

main > .section.bg-product.banner-left.section-animated > div > p:has(img),
main > .section.bg-product.banner-left.section-animated > div > p:has(picture) {
  opacity: 1;
  transform: translate(0, 0) rotate(0deg);
}

/* Title - bounces up from below */
main > .section.bg-product.banner-left > div > h2 {
  opacity: 0;
  transform: translateY(7rem);
  transition: opacity 0.5s ease-out 0.8s, transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.8s;
}

main > .section.bg-product.banner-left.section-animated > div > h2 {
  opacity: 1;
  transform: translateY(0);
}

/* Text content - fades in */
main > .section.bg-product.banner-left > div > p:not(:has(img)):not(:has(picture)) {
  opacity: 0;
  transition: opacity 0.5s ease-out 1s;
}

main > .section.bg-product.banner-left.section-animated > div > p:not(:has(img)):not(:has(picture)) {
  opacity: 1;
}

/* ==========================================================================
   Mission/Text Section Styles (Frosted Glass with Background Image)
   ========================================================================== */

main > .section.mission {
  position: relative;
  min-height: 350px;
  max-width: 1415px;
  margin: -220px auto 0;
  padding: 0 0 16px 0;
  display: flex;
  align-items: center;
  overflow: hidden; /* Clip the zoomed background */
  z-index: 10;
  /* Clipped corners - top-right and bottom-left */
  clip-path: polygon(0 0, calc(100% - 35px) 0, 100% 35px, 100% 100%, 35px 100%, 0 calc(100% - 35px));
}

/* Background image on pseudo-element for zoom animation */
main > .section.mission::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url('/content/ca/patient/images/lifestyle-bag.webp');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 0;
  /* Scroll-triggered zoom animation - starts visible, zooms in on scroll */
  transform: scale(1);
  transition: transform 2.5s ease-out;
}

/* Zoomed state - triggered by JavaScript adding .bg-zoom-active class */
main > .section.mission.bg-zoom-active::before {
  transform: scale(1.2);
}

/* Frosted glass content container */
main > .section.mission > div {
  position: relative;
  z-index: 2;
  max-width: 500px;
  margin: 45px 0;
  margin-left: 5%;
  padding: 45px 40px;
  background-color: rgba(255, 255, 255, 0.58);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-radius: 10px;
}

main > .section.mission h2 {
  font-size: var(--heading-font-size-xxl);
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  line-height: 1;
  margin-top: 0;
  margin-bottom: var(--spacing-m);
}

main > .section.mission h2 strong {
  color: var(--color-teal-text);
  font-style: italic;
}

main > .section.mission p {
  color: var(--color-deep-blue);
  font-family: var(--heading-font-family);
  font-size: 23px;
  line-height: 1.2;
  margin-bottom: var(--spacing-m);
}

/* Teal CTA button with slide-reveal animation */
main > .section.mission a.button,
main > .section.mission > div > p > a {
  position: relative;
  display: inline-block;
  background-color: var(--color-teal-text);
  color: var(--color-white);
  padding: 19px 60px 19px 25px;
  border: none;
  border-radius: 0;
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 23px;
  font-weight: 500;
  margin-top: var(--spacing-m);
  overflow: visible;
  white-space: normal;
  /* Main button shifts right on hover */
  transition: margin-left 400ms ease-out;
}

/* Hidden arrow panel - slides in from outside the button */
main > .section.mission a.button::before,
main > .section.mission > div > p > a::before {
  content: "";
  position: absolute;
  left: -70px;
  top: 0;
  bottom: 0;
  width: 60px;
  background-color: var(--color-teal-text);
  background-image: url('/icons/arrow-right-white.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  /* Hidden by default */
  opacity: 0;
  transition: opacity 400ms ease-out;
}

/* Arrow on main button */
main > .section.mission a.button::after,
main > .section.mission > div > p > a::after {
  content: "";
  position: absolute;
  right: 21px;
  top: 50%;
  transform: translateY(-50%);
  width: 19px;
  height: 16px;
  background-image: url('/icons/arrow-right-white.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  transition: transform 400ms ease-out, opacity 400ms ease-out;
}

/* Hover state */
main > .section.mission a.button:hover,
main > .section.mission > div > p > a:hover {
  margin-left: 35px;
}

main > .section.mission a.button:hover::before,
main > .section.mission > div > p > a:hover::before {
  opacity: 1;
}

main > .section.mission a.button:hover::after,
main > .section.mission > div > p > a:hover::after {
  transform: translateY(-50%) translateX(40px);
  opacity: 0;
}

@media (width < 768px) {
  main > .section.mission {
    min-height: auto;
    padding: var(--spacing-l) var(--spacing-m);
    /* Smaller clip on mobile */
    clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px));
  }

  main > .section.mission::before {
    background-position: center;
  }

  main > .section.mission > div {
    max-width: 100%;
    margin-left: 0;
    padding: var(--spacing-l);
  }

  main > .section.mission h2 {
    font-size: var(--heading-font-size-l);
  }
}

/* ==========================================================================
   Product Cards Section (Find your Luo)
   ========================================================================== */

/* Full-width section - no container padding */
main > .section.products {
  padding: 60px 0 0;
}

main > .section.products > div {
  max-width: none;
  margin: 0;
  padding: 0;
}

/* Heading with underline */
main > .section.products h3 {
  font-size: 45px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  text-align: center;
  margin: 0 0 var(--spacing-l);
  padding-bottom: 20px;
  position: relative;
}

/* Blue underline via ::after */
main > .section.products h3::after {
  content: '';
  display: block;
  width: 184px;
  height: 1px;
  background-color: var(--color-deep-blue);
  margin: 20px auto 0;
}

/* Cards grid - no gap, full width */
main > .section.products .cards > ul {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0;
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Individual product card */
main > .section.products .cards > ul > li {
  background: transparent;
  padding: 109px 0;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* First card - right border (vertical divider) */
main > .section.products .cards > ul > li:first-child {
  border-right: 1px solid #eee8da;
}

/* Second card - left border (vertical divider) */
main > .section.products .cards > ul > li:last-child {
  border-left: 1px solid #eee8da;
}

/* Product images - larger size */
main > .section.products .cards > ul > li picture,
main > .section.products .cards > ul > li img {
  width: 268px;
  max-width: 100%;
  height: auto;
  margin-bottom: var(--spacing-m);
}

/* Product title - bold */
main > .section.products .cards > ul > li strong {
  display: block;
  font-size: 20px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-deep-blue);
  margin-bottom: var(--spacing-s);
}

/* Product description */
main > .section.products .cards > ul > li p {
  font-size: var(--body-font-size-s);
  font-family: var(--heading-font-family);
  color: var(--color-deep-blue);
  line-height: 1.5;
  margin: 0;
  max-width: 380px;
  padding: 0 var(--spacing-m);
}

/* Card link wrapper - make it fill the card */
main > .section.products .cards > ul > li a.cards-card-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none;
  color: inherit;
}

/* Hide "Learn More" link text - the whole card is clickable */
main > .section.products .cards > ul > li .cards-link-text {
  display: none;
}

/* Mobile: stack cards vertically */
@media (width < 768px) {
  main > .section.products .cards > ul {
    grid-template-columns: 1fr;
  }

  main > .section.products .cards > ul > li {
    padding: 60px var(--spacing-m);
  }

  main > .section.products .cards > ul > li:first-child {
    border-right: none;
    border-bottom: 1px solid #eee8da;
  }

  main > .section.products .cards > ul > li:last-child {
    border-left: none;
    border-top: 1px solid #eee8da;
  }

  main > .section.products h3 {
    font-size: 32px;
  }
}

/* ==========================================================================
   Features Section (Why Luo)
   ========================================================================== */

main > .section.features > div {
  max-width: 1320px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

/* Cards wrapper - full width (override first-child 700px) */
main > .section.features .cards.block {
  width: 100%;
  max-width: 100% !important;
}

/* Header wrapper - left aligned */
main > .section.features .features-header,
main > .section.features > div > div:first-child:not(.cards) {
  text-align: left;
  margin-bottom: var(--spacing-xl);
  max-width: 700px;
}

/* "Why Luo?" label - small, uppercase style */
main > .section.features h3 {
  font-size: 23px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-deep-blue);
  text-align: left;
  margin: 0 0 var(--spacing-s);
  text-transform: none;
}

/* Main heading - large with teal accent */
main > .section.features > div > p {
  text-align: left;
  font-size: 68px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  line-height: 1;
  margin: 0 0 var(--spacing-xl);
  max-width: 720px;
}

main > .section.features > div > p strong {
  color: var(--color-teal-text);
  font-weight: 700;
}

/* Cards grid - 3 columns */
main > .section.features .cards > ul {
  display: grid;
  grid-template-columns: repeat(3, minmax(300px, 1fr));
  grid-auto-rows: 1fr;
  gap: var(--spacing-m);
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Individual feature card - simple rounded corners */
main > .section.features .cards > ul > li {
  background: var(--background-color);
  border: 2px solid var(--color-deep-blue);
  border-radius: var(--border-radius-l);
  padding: var(--spacing-l);
  position: relative;
  overflow: hidden;
  text-align: left;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-self: stretch;
  aspect-ratio: 1.1;
}

/* Feature icons */
main > .section.features .cards > ul > li picture,
main > .section.features .cards > ul > li img {
  max-width: 60px;
  height: 60px;
  margin-bottom: var(--spacing-l);
}

/* Feature title - NOT italic, regular weight */
main > .section.features .cards > ul > li strong {
  display: block;
  font-size: 28px;
  font-family: var(--heading-font-family);
  font-style: normal;
  font-weight: 400;
  color: var(--color-deep-blue);
  margin-bottom: var(--spacing-s);
}

/* Feature description */
main > .section.features .cards > ul > li p {
  font-size: var(--body-font-size-s);
  font-family: var(--heading-font-family);
  color: var(--color-deep-blue);
  line-height: 1.5;
  margin: 0;
  text-align: left;
}

/* Image-only card (lifestyle image) - card with just an image, no text */
main > .section.features .cards > ul > li:not(:has(strong)) {
  padding: 0;
  border: none;
  border-radius: var(--border-radius-l);
  overflow: hidden;
  align-self: stretch;
  aspect-ratio: 1.1;
}

/* Cards-card-image wrapper in image-only cards */
main > .section.features .cards > ul > li:not(:has(strong)) .cards-card-image {
  height: 100%;
  width: 100%;
}

/* Remove decorative corners from image-only cards */
main > .section.features .cards > ul > li:not(:has(strong))::before,
main > .section.features .cards > ul > li:not(:has(strong))::after {
  display: none;
}

/* Image fills card completely */
main > .section.features .cards > ul > li:not(:has(strong)) .cards-card-image picture,
main > .section.features .cards > ul > li:not(:has(strong)) .cards-card-image img {
  width: 100%;
  height: 100%;
  max-width: none;
  max-height: none;
  margin: 0;
  object-fit: cover;
  object-position: center 25%;
  border-radius: var(--border-radius-l);
  display: block;
  /* Hover zoom effect */
  transition: transform 0.4s ease-out;
}

/* Hover zoom - image scales up on hover */
main > .section.features .cards > ul > li:not(:has(strong)):hover .cards-card-image img {
  transform: scale(1.1);
}

/* Remove padding/margin from the paragraph wrapper in image-only cards */
main > .section.features .cards > ul > li:not(:has(strong)) p {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  display: flex;
}

/* Ensure picture element fills the image-only card */
main > .section.features .cards > ul > li:not(:has(strong)) picture {
  display: flex;
  width: 100%;
  height: 100%;
}

/* Tablet: 2 columns */
@media (width < 1024px) {
  main > .section.features .cards > ul {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Mobile: 1 column */
@media (width < 768px) {
  main > .section.features .cards > ul {
    grid-template-columns: 1fr;
  }

  main > .section.features > div > p {
    font-size: 32px;
  }

  main > .section.features .cards > ul > li strong {
    font-size: 22px;
  }
}

/* --------------------------------------------------------------------------
   Features on Product Pages — gradient background, white text, no borders
   Scoped to pages with a .product-hero section
   -------------------------------------------------------------------------- */
body:has(.product-hero) main > .section.bg-even.features {
  background: url('/styles/backgrounds/footer-gradient-background.jpg');
  background-size: cover;
  background-position: center top;
  padding: 110px 0 130px;
}

body:has(.product-hero) main > .section.features h3 {
  font-size: 45px;
  font-weight: 400;
  color: var(--color-white);
  line-height: 54px;
  margin-bottom: 20px;
}

/* Horizontal rule separator after "Why choose Luo?" heading */
body:has(.product-hero) main > .section.features h3::after {
  content: '';
  display: block;
  width: 147px;
  height: 2px;
  background: var(--color-white);
  margin-top: 20px;
}

body:has(.product-hero) main > .section.features h3 strong {
  color: var(--color-white);
  font-weight: 700;
}

body:has(.product-hero) main > .section.features .cards > ul {
  grid-template-columns: repeat(4, 1fr);
  gap: 40px;
}

body:has(.product-hero) main > .section.features .cards > ul > li {
  background: transparent;
  border: none;
  padding: 0 20px;
  aspect-ratio: auto;
}

/* Feature icons */
body:has(.product-hero) main > .section.features .cards > ul > li .feature-icon {
  display: block;
  width: 55px;
  height: 57px;
  margin-bottom: 20px;
  filter: brightness(0) invert(1);
}

/* Feature title (h4) */
body:has(.product-hero) main > .section.features .cards > ul > li .feature-title {
  font-size: 32px;
  font-weight: 400;
  font-family: var(--heading-font-family);
  color: var(--color-white);
  line-height: 1;
  margin: 0 0 16px;
}

/* Feature description */
body:has(.product-hero) main > .section.features .cards > ul > li .feature-desc {
  color: var(--color-white);
  font-size: 23px;
  line-height: 1.2;
  margin: 0;
}

/* Fallback for strong (before JS runs) */
body:has(.product-hero) main > .section.features .cards > ul > li strong {
  font-size: 32px;
  font-weight: 400;
  color: var(--color-white);
  line-height: 1;
}

body:has(.product-hero) main > .section.features .cards > ul > li p {
  color: var(--color-white);
  font-size: 23px;
  line-height: 1.2;
}

@media (width < 1024px) {
  body:has(.product-hero) main > .section.features .cards > ul {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (width < 768px) {
  body:has(.product-hero) main > .section.features .cards > ul {
    grid-template-columns: 1fr;
  }

  body:has(.product-hero) main > .section.features h3 {
    font-size: 32px;
  }
}

/* ==========================================================================
   FAQ Section Styles
   ========================================================================== */

main > .section.faq > div {
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 var(--spacing-m);
}

/* Two-column FAQ using CSS columns for inline content */
main > .section.faq.two-col > div > .default-content-wrapper {
  column-count: 2;
  column-gap: var(--spacing-xl);
}

/* Each FAQ item starts with h3 - keep together */
main > .section.faq.two-col h3 {
  break-before: column;
  break-inside: avoid;
}

main > .section.faq.two-col h3:first-of-type {
  break-before: auto;
}

/* FAQ card styling */
main > .section.faq h3 {
  background: var(--background-color);
  padding: var(--spacing-l) var(--spacing-l) 0;
  margin: 0;
  font-size: var(--heading-font-size-l);
  color: var(--color-deep-blue);
  text-align: left;
  border-radius: var(--border-radius-l) var(--border-radius-l) 0 0;
}

main > .section.faq h3 strong {
  color: var(--color-teal);
}

main > .section.faq p {
  background: var(--background-color);
  padding: var(--spacing-m) var(--spacing-l);
  margin: 0;
  color: var(--color-deep-blue);
  line-height: 1.6;
}

main > .section.faq p.button-container {
  padding-bottom: var(--spacing-l);
  border-radius: 0 0 var(--border-radius-l) var(--border-radius-l);
  margin-bottom: var(--spacing-m);
}

main > .section.faq a.button {
  display: inline-block;
  background-color: var(--color-deep-blue);
  color: var(--color-white);
  padding: 12px 32px;
  border-radius: var(--border-radius-pill);
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 16px;
  transition: all var(--transition-base);
}

main > .section.faq a.button:hover {
  background-color: var(--color-purple);
}

@media (width < 768px) {
  main > .section.faq.two-col > div > .default-content-wrapper {
    column-count: 1;
  }
}

/* ==========================================================================
   FAQ Block Section (Image + Text layout)
   ========================================================================== */

/* Base FAQ block section - full width */
main > .section.faq-block {
  padding: 0;
  margin: 0;
  overflow: visible;
  width: 100%;
  max-width: none;
}

/* Bottom padding on last FAQ section */
main > .section.faq-block-2 {
  padding-bottom: 210px;
}

/* FAQ wrapper - full width grid with 50/50 columns */
main > .section.faq-block > .default-content-wrapper {
  max-width: none;
  width: 100%;
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: 50% 50%;
  gap: 0;
  /* Scroll-triggered fade-up animation - only content, not background */
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

/* Animated state - content fades in and up */
main > .section.faq-block.section-animated > .default-content-wrapper {
  opacity: 1;
  transform: translateY(0);
}

/* FAQ block backgrounds - use site gradient background for both sections */
main > .section.faq-block {
  background-image: url('/styles/backgrounds/bg-gradient-odd.png');
  background-size: 100% 200%;
  background-repeat: no-repeat;
}

/* First block shows top half of gradient */
main > .section.faq-block-1 {
  background-position: center top;
  padding-top: 80px;
}

/* Second block shows bottom half of gradient */
main > .section.faq-block-2 {
  background-position: center bottom;
}

/* First FAQ block - text left, image right */
main > .section.faq-block-1 > .default-content-wrapper > h2 {
  grid-column: 1;
  grid-row: 1;
  padding-left: 93px;
}

main > .section.faq-block-1 > .default-content-wrapper > p:not(.button-container):not(:has(picture)):not(:has(img)) {
  grid-column: 1;
  grid-row: 2;
  padding-left: 93px;
}

main > .section.faq-block-1 > .default-content-wrapper > p.button-container {
  grid-column: 1;
  grid-row: 3;
  padding-left: 93px;
  margin-top: 27px;
}

main > .section.faq-block-1 > .default-content-wrapper > p:has(picture),
main > .section.faq-block-1 > .default-content-wrapper > p:has(img) {
  grid-column: 2;
  grid-row: 1 / 4;
  justify-self: start;
  align-self: center;
  margin: 0;
  max-width: none;
}

/* Second FAQ block - image left, text right */
main > .section.faq-block-2 > .default-content-wrapper > h2 {
  grid-column: 2;
  grid-row: 1;
  padding-left: 98px;
}

main > .section.faq-block-2 > .default-content-wrapper > p:not(.button-container):not(:has(picture)):not(:has(img)) {
  grid-column: 2;
  grid-row: 2;
  padding-left: 98px;
}

main > .section.faq-block-2 > .default-content-wrapper > p.button-container {
  grid-column: 2;
  grid-row: 3;
  padding-left: 98px;
  margin-top: 27px;
}

main > .section.faq-block-2 > .default-content-wrapper > p:has(picture),
main > .section.faq-block-2 > .default-content-wrapper > p:has(img) {
  grid-column: 1;
  grid-row: 1 / 4;
  justify-self: end;
  align-self: center;
  margin: 0;
  max-width: none;
}

/* FAQ block heading styling */
main > .section.faq-block h2 {
  font-size: 64px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  line-height: 64px;
  margin: 0;
  max-width: 530px;
  align-self: start;
  position: relative;
}

main > .section.faq-block h2 strong {
  color: var(--color-teal-text);
  display: block;
}

/* Horizontal rule under FAQ heading */
main > .section.faq-block h2::after {
  content: '';
  display: block;
  width: 147px;
  height: 2px;
  background: var(--color-deep-blue);
  margin-top: 21px;
  margin-bottom: 21px;
}

/* FAQ block paragraph */
main > .section.faq-block > .default-content-wrapper > p {
  font-family: var(--heading-font-family);
  font-size: 23px;
  color: var(--color-deep-blue);
  line-height: 1.2;
  margin: 0;
  max-width: 530px;
}

/* Remove max-width for image container paragraphs */
main > .section.faq-block > .default-content-wrapper > p:has(picture),
main > .section.faq-block > .default-content-wrapper > p:has(img) {
  max-width: none;
}

/* FAQ block CTA button - outline style */
main > .section.faq-block .button-container {
  margin-top: 27px;
}

/* FAQ block CTA button with slide-reveal animation (matches hero button pattern) */
main > .section.faq-block .button-container a,
main > .section.faq-block > .default-content-wrapper > p.button-container > a {
  position: relative;
  display: inline-block;
  background-color: transparent;
  color: var(--color-deep-blue);
  border: 2px solid var(--color-deep-blue);
  padding: 19px 60px 19px 25px;
  border-radius: 0;
  text-decoration: none;
  font-family: var(--heading-font-family);
  font-size: 23px;
  font-weight: 500;
  overflow: visible;
  white-space: normal;
  /* Main button shifts right on hover - synced with panel animation */
  transition: margin-left 400ms ease-out;
}

/* Hidden arrow panel - slides in from outside the button */
main > .section.faq-block .button-container a::before,
main > .section.faq-block > .default-content-wrapper > p.button-container > a::before {
  content: "";
  position: absolute;
  /* Position outside the button - 60px panel + 10px gap = 70px offset */
  left: -70px;
  top: 0;
  bottom: 0;
  width: 60px;
  box-sizing: border-box;
  background-color: transparent;
  border: 2px solid var(--color-deep-blue);
  /* Arrow as background image */
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  /* Hidden by default, revealed on hover */
  opacity: 0;
  /* Panel entrance - 400ms */
  transition: opacity 400ms ease-out;
}

/* Arrow on main button - exits to the right */
main > .section.faq-block .button-container a::after,
main > .section.faq-block > .default-content-wrapper > p.button-container > a::after {
  content: "";
  position: absolute;
  right: 21px;
  top: 50%;
  transform: translateY(-50%);
  width: 19px;
  height: 16px;
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  /* Arrow exits at same speed as panel enters */
  transition: transform 400ms ease-out, opacity 400ms ease-out;
}

/* Hover state - synchronized animations */
main > .section.faq-block .button-container a:hover,
main > .section.faq-block > .default-content-wrapper > p.button-container > a:hover {
  /* Main button shifts right - reduced gap (35px shift for 10px final gap) */
  margin-left: 35px;
  background-color: transparent;
  color: var(--color-deep-blue);
}

main > .section.faq-block .button-container a:hover::before,
main > .section.faq-block > .default-content-wrapper > p.button-container > a:hover::before {
  /* Arrow panel becomes visible */
  opacity: 1;
}

main > .section.faq-block .button-container a:hover::after,
main > .section.faq-block > .default-content-wrapper > p.button-container > a:hover::after {
  /* Arrow exits to the right at same speed as panel enters */
  transform: translateY(-50%) translateX(40px);
  opacity: 0;
}

/* FAQ block images */
main > .section.faq-block > .default-content-wrapper > p:has(picture) img,
main > .section.faq-block > .default-content-wrapper > p:has(img) img {
  width: 100%;
  max-width: 628px;
  height: auto;
  display: block;
}

/* Image container - position images to meet at center */
main > .section.faq-block > .default-content-wrapper > p:has(picture),
main > .section.faq-block > .default-content-wrapper > p:has(img) {
  position: relative;
  z-index: 1;
  margin: 0;
}

/* First block image - left edge at center (aligns to start of its grid cell) */
main > .section.faq-block-1 > .default-content-wrapper > p:has(picture),
main > .section.faq-block-1 > .default-content-wrapper > p:has(img) {
  justify-self: start;
}

/* Second block image - right edge at center (aligns to end of its grid cell) */
main > .section.faq-block-2 > .default-content-wrapper > p:has(picture),
main > .section.faq-block-2 > .default-content-wrapper > p:has(img) {
  justify-self: end;
}

/* Starburst decoration - positioned between sections, above images */
main > .section.starburst {
  position: relative;
}

main > .section.starburst::before {
  content: '';
  position: absolute;
  top: -50px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 100px;
  background-image: url('/icons/luo-symbol.svg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  z-index: 20;
}

/* Mobile: stack vertically */
@media (width < 768px) {
  main > .section.faq-block > .default-content-wrapper {
    grid-template-columns: 1fr;
    gap: var(--spacing-m);
    padding: 0 40px;
  }

  main > .section.faq-block-1 > .default-content-wrapper,
  main > .section.faq-block-2 > .default-content-wrapper {
    grid-template-areas:
      "heading"
      "text"
      "button"
      "image";
  }

  main > .section.faq-block h2 {
    font-size: 36px;
    line-height: 1.1;
  }

  main > .section.faq-block > .default-content-wrapper > p {
    font-size: 18px;
  }

  main > .section.faq-block > .default-content-wrapper > p:has(picture) img,
  main > .section.faq-block > .default-content-wrapper > p:has(img) img {
    max-width: 100%;
  }

  main > .section.faq-block-1 > .default-content-wrapper > p:has(picture),
  main > .section.faq-block-1 > .default-content-wrapper > p:has(img),
  main > .section.faq-block-2 > .default-content-wrapper > p:has(picture),
  main > .section.faq-block-2 > .default-content-wrapper > p:has(img) {
    justify-self: center;
  }

  main > .section.faq-block-2 {
    padding-bottom: 80px;
  }

  main > .section.starburst::before {
    width: 60px;
    height: 60px;
    top: -30px;
  }
}

/* ==========================================================================
   Sources Section (Academic references, collapsible)
   ========================================================================== */

main > .section.sources {
  background: var(--color-white);
  padding: var(--spacing-l) 0;
  margin: 0;
}

main > .section.sources h4 {
  font-family: var(--heading-font-family);
  font-size: 20px;
  font-weight: 500;
  color: var(--color-deep-blue);
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-s) 0;
  border-top: 1px solid var(--color-deep-blue);
  margin: 0;
}

main > .section.sources h4::after {
  content: '+';
  font-size: 24px;
  font-weight: 300;
  transition: transform 0.3s ease;
}

main > .section.sources h4.open::after {
  content: '−';
}

main > .section.sources ul {
  display: none;
  list-style: disc;
  padding: var(--spacing-s) var(--spacing-m) var(--spacing-m) var(--spacing-l);
  margin: 0;
}

main > .section.sources h4.open + ul {
  display: block;
}

main > .section.sources li {
  font-size: 13px;
  line-height: 1.6;
  color: #444;
  margin-bottom: var(--spacing-xs);
}

main > .section.sources li em {
  font-style: italic;
}

/* ==========================================================================
   Gradient CTA Section (Illuminate Possibilities)
   Full-width gradient with starburst pattern and large centered heading
   ========================================================================== */

main > .section.gradient-cta {
  background-image: url('/styles/backgrounds/footer-gradient-background.jpg');
  background-size: cover;
  background-position: 50% 0%;
  background-repeat: no-repeat;
  background-attachment: fixed;
  margin: 0;
  padding: 60px 0 0;
  min-height: 660px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: visible;
}

/* Starburst overlay - positioned within gradient section */
main > .section.gradient-cta::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 40px;
  background-image: url('/styles/backgrounds/footer-mark.svg');
  background-size: 100% auto;
  background-position: center bottom;
  background-repeat: no-repeat;
  pointer-events: none;
  z-index: 10;
}

main > .section.gradient-cta > div {
  position: relative;
  z-index: 1;
  text-align: center;
  max-width: 100%;
  padding: 0 var(--spacing-m);
}

main > .section.gradient-cta h2 {
  font-size: 150px;
  font-family: var(--heading-font-family);
  font-weight: 600;
  color: var(--text-color-inverted);
  line-height: 0.9;
  margin: 0;
  text-align: center;
  max-width: 900px;
  /* Scroll-triggered fade-up animation - site-wide */
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

/* Animated state when scrolled into view */
main > .section.gradient-cta.section-animated h2 {
  opacity: 1;
  transform: translateY(0);
}

@media (width >= 900px) {
  main > .section.gradient-cta {
    min-height: 880px;
  }

  main > .section.gradient-cta h2 {
    font-size: 198px;
  }
}

@media (width < 768px) {
  main > .section.gradient-cta {
    min-height: 400px;
  }

  main > .section.gradient-cta h2 {
    font-size: 83px;
  }
}

/* ==========================================================================
   FAQ Index Section (medical-cannabis-guide landing page)
   ========================================================================== */

main > .section.faq-index {
  max-width: 960px;
  margin: 0 auto;
  padding: 140px 40px 80px;
  text-align: center;
}

main > .section.faq-index h1 {
  font-size: 72px;
  font-family: var(--heading-font-family);
  font-weight: 500;
  color: var(--color-deep-blue);
  line-height: 1.05;
  margin: 0 0 40px;
}

main > .section.faq-index > div > ul {
  list-style: none;
  padding: 0;
  margin: 40px auto 0;
  max-width: 700px;
  text-align: left;
}

main > .section.faq-index > div > ul > li {
  border-bottom: 1px solid #eee8da;
  padding: 0;
}

main > .section.faq-index > div > ul > li a {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 22px 10px;
  color: var(--color-deep-blue);
  text-decoration: none;
  font-size: 18px;
  font-family: var(--heading-font-family);
  font-weight: 500;
  transition: color 0.2s ease;
}

main > .section.faq-index > div > ul > li a::after {
  content: '\2192';
  font-size: 20px;
  flex-shrink: 0;
  margin-left: 16px;
  transition: transform 0.2s ease;
}

main > .section.faq-index > div > ul > li a:hover {
  color: var(--color-teal);
}

main > .section.faq-index > div > ul > li a:hover::after {
  transform: translateX(4px);
}

@media (width < 768px) {
  main > .section.faq-index {
    padding: 120px 20px 60px;
  }

  main > .section.faq-index h1 {
    font-size: 42px;
  }

  main > .section.faq-index > div > ul > li a {
    font-size: 16px;
    padding: 18px 6px;
  }
}

/* ==========================================================================
   Product Page Content Background
   On original site, sections after features have a subtle gradient bg image
   ========================================================================== */

/* Remove default section margins on product pages - sections flow seamlessly */
body:has(.product-hero) main > .section {
  margin: 0;
}

/* Continuous gradient background on main — covers dosing through steps sections.
   Hero and features sections have their own opaque backgrounds that cover this.
   FAQ and CTA also have their own opaque backgrounds.
   This prevents visible seams between adjacent sections sharing the same gradient. */
body:has(.product-hero) main {
  background: url('/styles/backgrounds/big-gradient-bg.png') center top / cover no-repeat;
}

/* Override bg-cream on product pages — let the main gradient show through */
body:has(.product-hero) main > .section.bg-cream {
  background: transparent;
}

body:has(.product-hero) main > .section.bg-cream::before {
  display: none;
}

/* Product page H2s - match original at 64px */
body:has(.product-hero) main > .section h2 {
  font-size: 64px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  line-height: 1.05;
}

body:has(.product-hero) main > .section h2 strong {
  font-weight: 700;
}

/* Product page H3s - match original at 45px */
body:has(.product-hero) main > .section h3 {
  font-size: 45px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
}

/* Middle content sections - generous padding like original */
body:has(.product-hero) main > .section.bg-even.features ~ .section.cards-container:not(.steps):not(.dosing-layout) {
  padding: 100px 0 80px;
}

/* Dosing section two-column layout: text left, bottles right */
/* Section is full-width so background gradient extends to viewport edges.
   Content is centered via responsive padding-inline. */
body:has(.product-hero) main > .section.dosing-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: auto auto;
  align-items: start;
  max-width: none;
  margin: 0;
  padding: 145px max(40px, calc((100% - 1240px) / 2)) 90px;
}

/* Text wrapper spans left column */
body:has(.product-hero) main > .section.dosing-layout > .default-content-wrapper {
  grid-column: 1;
  grid-row: 1;
  max-width: 530px;
  margin-left: 53px;
  margin-right: auto;
}

/* Bottles image in right column, row 1 only */
body:has(.product-hero) main > .section.dosing-layout > .dosing-bottles {
  grid-column: 2;
  grid-row: 1;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding-top: 0;
  overflow: hidden;
}

body:has(.product-hero) main > .section.dosing-layout > .dosing-bottles img {
  max-width: 100%;
  height: auto;
}

/* Cards wrapper spans both columns below */
body:has(.product-hero) main > .section.dosing-layout > .cards-wrapper {
  grid-column: 1 / -1;
  grid-row: 2;
  max-width: none;
  margin: 0;
  padding: 60px 0 0;
  width: 100%;
}

/* Product card bottle images - match patient page styling */
body:has(.product-hero) main > .section.dosing-layout .cards > ul > li img {
  aspect-ratio: 1 / 1;
  object-fit: contain;
}

/* Dosing section text wrapper - fallback for non-dosing-layout */
body:has(.product-hero) main > .section.bg-even.features ~ .section.cards-container:not(.steps):not(.dosing-layout) > .default-content-wrapper {
  max-width: 530px;
  margin-left: 93px;
  margin-right: auto;
}

/* Dosing section paragraphs - 23px like original */
body:has(.product-hero) main > .section.bg-even.features ~ .section.cards-container:not(.steps) > .default-content-wrapper p {
  font-size: 23px;
  line-height: 1.2;
  color: var(--color-deep-blue);
  margin: 0 0 20px;
  font-family: var(--heading-font-family);
}

/* H2 strong text (product name) in teal like original */
body:has(.product-hero) main > .section.bg-even.features ~ .section.cards-container:not(.steps) > .default-content-wrapper h2 strong {
  color: var(--color-teal-text, #01cfc9);
}

/* Dosing section H2 horizontal rule — teal like original */
body:has(.product-hero) main > .section.bg-even.features ~ .section.cards-container:not(.steps) > .default-content-wrapper h2::after {
  content: '';
  display: block;
  width: 147px;
  height: 2px;
  background: var(--color-teal-text, #01cfc9);
  margin-top: 21px;
  margin-bottom: 21px;
}

/* Mobile: stack columns */
@media (width < 900px) {
  body:has(.product-hero) main > .section.dosing-layout {
    grid-template-columns: 1fr;
    padding: 80px 20px 60px;
  }

  body:has(.product-hero) main > .section.dosing-layout > .default-content-wrapper {
    margin-left: 0;
  }

  body:has(.product-hero) main > .section.dosing-layout > .dosing-bottles {
    grid-column: 1;
    grid-row: 2;
    max-width: 400px;
    margin: 30px auto;
  }

  body:has(.product-hero) main > .section.dosing-layout > .cards-wrapper {
    grid-column: 1;
    grid-row: 3;
    padding: 40px 0 60px;
  }
}

/* --------------------------------------------------------------------------
   "Find Your Luo" sub-section within dosing section
   Centered heading with teal underline, product cards with bottle images
   -------------------------------------------------------------------------- */

/* "Find Your Luo" heading - centered, deep blue, teal underline */
body:has(.product-hero) .find-your-luo > h3 {
  font-size: 45px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  text-align: center;
  margin: 0 0 var(--spacing-l);
  padding-bottom: 20px;
  position: relative;
}

body:has(.product-hero) .find-your-luo > h3::after {
  content: '';
  display: block;
  width: 184px;
  height: 1px;
  background-color: var(--color-deep-blue);
  margin: 20px auto 0;
}

/* Find Your Luo cards - match .section.products styling from patient landing page */
body:has(.product-hero) .find-your-luo .cards > ul {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0;
  list-style: none;
  padding: 0;
  margin: 0;
}

body:has(.product-hero) .find-your-luo .cards > ul > li {
  background: transparent;
  border: none;
  border-radius: 0;
  padding: 109px 0;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  aspect-ratio: unset;
}

/* Vertical dividers between cards */
body:has(.product-hero) .find-your-luo .cards > ul > li:first-child {
  border-right: 1px solid #eee8da;
}

body:has(.product-hero) .find-your-luo .cards > ul > li:last-child {
  border-left: 1px solid #eee8da;
}

/* Product card bottle image */
body:has(.product-hero) .find-your-luo .product-card-image {
  margin-bottom: var(--spacing-m);
}

body:has(.product-hero) .find-your-luo .product-card-image img {
  width: 268px;
  max-width: 100%;
  height: auto;
  margin: 0 auto;
  display: block;
}

/* Product card title */
body:has(.product-hero) .find-your-luo .product-card-title {
  display: block;
  font-size: 20px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-deep-blue);
  margin-bottom: var(--spacing-s);
}

/* Product card description */
body:has(.product-hero) .find-your-luo .product-card-desc {
  font-size: var(--body-font-size-s);
  font-family: var(--heading-font-family);
  color: var(--color-deep-blue);
  line-height: 1.5;
  margin: 0;
  max-width: 380px;
  padding: 0 var(--spacing-m);
}

/* Card link wrapper — make it fill and no underline */
body:has(.product-hero) .find-your-luo .cards > ul > li a {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none;
  color: inherit;
}

@media (width < 768px) {
  body:has(.product-hero) .find-your-luo .cards > ul {
    grid-template-columns: 1fr;
  }

  body:has(.product-hero) .find-your-luo .cards > ul > li {
    padding: 60px var(--spacing-m);
  }

  body:has(.product-hero) .find-your-luo .cards > ul > li:first-child {
    border-right: none;
    border-bottom: 1px solid #eee8da;
  }

  body:has(.product-hero) .find-your-luo .cards > ul > li:last-child {
    border-left: none;
    border-top: 1px solid #eee8da;
  }

  body:has(.product-hero) .find-your-luo > h3 {
    font-size: 32px;
  }
}

/* ==========================================================================
   Quality Standards Section — two-column: masked image left, text right
   Matches original .copy-masked-image-section > .container layout
   Original: image fills left 50%, text centered vertically in right 50%
   ========================================================================== */
body:has(.product-hero) main > .section.quality-standards {
  padding: 0 80px;
  text-align: left;
  max-width: none;
  margin: 0;
  position: relative;
}

/* Grid layout: image left, text right vertically centered */
body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr auto auto 1fr;
  column-gap: 80px;
  max-width: 1415px;
  margin: 0 auto;
  padding: 0;
}

/* Image paragraph — column 1, spans all rows, drives section height via aspect-ratio */
body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:first-child {
  grid-column: 1;
  grid-row: 1 / -1;
  margin: 0;
  position: relative;
  aspect-ratio: 627.5 / 851;
}

/* Starburst decoration on quality image — matches original luo-symbol positioning */
body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:first-child::before {
  content: '';
  position: absolute;
  top: -30px;
  right: -36px;
  width: 72px;
  height: 72px;
  background-image: url('/icons/luo-symbol.svg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  z-index: 2;
}

body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:first-child picture {
  display: block;
  width: 100%;
  height: 100%;
}

body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:first-child img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: left top;
  display: block;
}

/* H2 heading — column 2, vertically centered */
body:has(.product-hero) main > .section.quality-standards h2 {
  grid-column: 2;
  grid-row: 2;
  margin: 0;
  padding-left: 50px;
  padding-bottom: 21px;
}

/* "standards" bold text in teal like original */
body:has(.product-hero) main > .section.quality-standards h2 strong {
  color: var(--color-teal-text, #01cfc9);
}

/* Decorative line after heading (replaces <hr> which causes section splits in EDS) */
body:has(.product-hero) main > .section.quality-standards h2::after {
  content: '';
  display: block;
  width: 147px;
  border-top: 1px solid var(--color-deep-blue);
  margin-top: 21px;
}

/* Text paragraph — column 2, below heading */
body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:last-of-type {
  grid-column: 2;
  grid-row: 3;
  font-size: 23px;
  line-height: 1.2;
  color: var(--color-deep-blue);
  font-family: var(--heading-font-family);
  max-width: 530px;
  margin: 0;
  padding-left: 50px;
}

@media (width < 768px) {
  body:has(.product-hero) main > .section h2 {
    font-size: 36px;
  }

  body:has(.product-hero) main > .section h3 {
    font-size: 28px;
  }

  /* Quality standards: single-column stack on mobile */
  body:has(.product-hero) main > .section.quality-standards {
    padding: 70px 0;
  }

  body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
    padding: 0 20px;
  }

  body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:first-child {
    grid-column: 1;
    grid-row: auto;
    aspect-ratio: auto;
  }

  body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:first-child::before {
    left: 50%;
    right: auto;
    transform: translateX(-50%);
  }

  body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:first-child img {
    width: 100%;
    height: auto;
    object-fit: contain;
  }

  body:has(.product-hero) main > .section.quality-standards h2 {
    grid-column: 1;
    grid-row: auto;
    font-size: 32px;
    line-height: 32px;
    padding-left: 0;
    padding-top: 30px;
  }

  body:has(.product-hero) main > .section.quality-standards > .default-content-wrapper > p:last-of-type {
    grid-column: 1;
    grid-row: auto;
    padding-left: 0;
    max-width: none;
  }
}

/* ==========================================================================
   Product Hero Section (product detail pages)
   ========================================================================== */

main > .section.product-hero {
  background: var(--color-white);
  padding: 80px 0 80px;
  text-align: center;
  max-width: none;
  margin: 0;
}

/* Two-column hero grid */
.product-hero-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  max-width: 1320px;
  margin: 0 auto;
  gap: 40px;
}

.product-hero-image {
  position: relative;
  overflow: hidden;
}

.product-hero-image p {
  margin: 0;
  line-height: 0;
}

.product-hero-image img {
  width: 100%;
  max-width: 588px;
  height: auto;
  display: block;
}

/* Product image carousel */
.product-image-carousel {
  position: relative;
  overflow: hidden;
  width: 100%;
  max-width: 588px;
}

.product-image-track {
  display: flex;
  transition: transform 0.7s ease;
}

.product-image-track img {
  width: 100%;
  max-width: 588px;
  height: auto;
  flex-shrink: 0;
  opacity: 1;
  transition: opacity 0.6s ease;
}

.product-image-track img.leaving {
  opacity: 0;
}

.product-hero-content {
  padding: 0 40px 0 20px;
  text-align: center;
}

main > .section.product-hero h1 {
  font-size: 90px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  line-height: 1;
  margin: 0 0 20px;
}

/* Subtitle line: "Vanilla mint flavor | 30 Lozenges | Flexible dosing" */
.product-hero-content > p:first-of-type {
  font-size: 15px;
  font-family: var(--heading-font-family);
  color: var(--color-deep-blue);
  letter-spacing: 0.5px;
  margin: 0 0 24px;
  opacity: 0.7;
}

/* Description paragraph */
.product-hero-content > p:nth-of-type(2) {
  font-size: 16px;
  line-height: 1.6;
  color: var(--color-deep-blue);
  max-width: 520px;
  margin: 0 auto 30px;
}

/* "Select Your Dosage" label */
.product-hero-content > p:nth-of-type(3) {
  font-size: 14px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-deep-blue);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin: 0 0 16px;
  text-align: left;
}

/* Dosage selector container */
.dosage-selector {
  margin: 0 0 30px;
}

.dosage-label {
  font-size: 16px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-deep-blue);
  margin: 0 0 16px;
  text-align: left;
}

.dosage-row {
  display: flex;
  gap: 16px;
  margin: 0 0 20px;
}

.dosage-card {
  border: 2px solid rgb(128 136 228);
  border-radius: 3px;
  padding: 19px 10px;
  min-width: 138px;
  text-align: center;
  cursor: pointer;
  position: relative;
  background: var(--color-white);
  transition: border-color 0.2s ease;
}

.dosage-card:hover {
  border-color: var(--color-deep-blue);
}

.dosage-card.active {
  border-color: var(--color-deep-blue);
}

.dosage-card.active::after {
  content: '';
  width: 24px;
  height: 24px;
  background-color: var(--color-deep-blue);
  border-radius: 3px;
  position: absolute;
  top: -1px;
  right: -1px;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e");
  background-position: center;
  background-size: 60%;
  background-repeat: no-repeat;
}

.dosage-mg {
  font-size: 22px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-deep-blue);
  margin-bottom: 4px;
}

.dosage-desc {
  font-size: 13px;
  color: var(--color-deep-blue);
  opacity: 0.7;
}

/* Order Luo button */
a.order-button {
  display: block;
  width: 100%;
  box-sizing: border-box;
  padding: 19px 60px 19px 25px;
  background: rgb(1 207 201);
  color: var(--color-white);
  font-size: 23px;
  font-family: var(--heading-font-family);
  font-weight: 500;
  text-decoration: none;
  text-align: center;
  border-radius: 0;
  margin: 0 0 10px;
  position: relative;
  /* Visible overflow allows ::before arrow panel to appear outside the button */
  overflow: visible;
  /* Button shifts right on hover - synced with arrow panel */
  transition: margin-left 400ms ease-out;
}

/* Hidden arrow panel - positioned outside the button to the left */
a.order-button::before {
  content: "";
  position: absolute;
  left: -70px;
  top: 0;
  bottom: 0;
  width: 60px;
  background-color: rgb(0 190 185);
  background-image: url('/icons/arrow-right-white.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  opacity: 0;
  transition: opacity 400ms ease-out;
}

/* Right arrow on button */
a.order-button::after {
  content: "";
  position: absolute;
  right: 21px;
  top: 50%;
  transform: translateY(-50%);
  width: 19px;
  height: 16px;
  background-image: url('/icons/arrow-right-white.svg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: 19px 16px;
  transition: transform 400ms ease-out, opacity 400ms ease-out;
}

a.order-button:hover {
  margin-left: 35px;
  color: var(--color-white);
  text-decoration: none;
}

a.order-button:hover::before {
  opacity: 1;
}

a.order-button:hover::after {
  transform: translateY(-50%) translateX(40px);
  opacity: 0;
}

.dosage-error {
  font-size: 13px;
  color: #c62828;
  margin-top: 4px;
}

/* "Don't have a medical document?" callout */
main > .section.product-hero h5 {
  font-size: 16px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-deep-blue);
  margin: 30px 0 8px;
}

main > .section.product-hero h5 + p {
  font-size: 14px;
  color: var(--color-deep-blue);
  margin: 0;
}

main > .section.product-hero h5 + p a {
  color: var(--color-teal);
  text-decoration: underline;
}

@media (width < 768px) {
  .product-hero-grid {
    grid-template-columns: 1fr;
  }

  .product-hero-image {
    max-height: 400px;
  }

  .product-hero-content {
    padding: 20px;
  }

  main > .section.product-hero {
    padding: 80px 0 40px;
  }

  main > .section.product-hero h1 {
    font-size: 42px;
  }

  main > .section.product-hero ul {
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }

  main > .section.product-hero ul li {
    width: 100%;
    max-width: 280px;
  }
}

/* ==========================================================================
   Steps Section (ordering steps on product pages)
   ========================================================================== */

main > .section.steps {
  text-align: center;
  padding: 60px 0 119px;
}

main > .section.steps > div:first-child {
  max-width: 700px;
  margin: 0 auto 50px;
}

main > .section.steps h2 {
  font-size: 64px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  margin: 0 0 20px;
  line-height: 1;
}

main > .section.steps > div:first-child > p {
  font-size: 23px;
  line-height: 1.5;
  color: var(--color-deep-blue);
  margin: 0 0 30px;
}

/* Horizontal rule after intro text or generated via CSS */
main > .section.steps > div:first-child > p + hr,
main > .section.steps > div:first-child hr {
  border: none;
  border-top: 1px solid var(--color-deep-blue);
  width: 184px;
  margin: 0 auto;
}

/* Auto-generated separator after subtext if no hr present */
main > .section.steps > div:first-child > p:last-child::after {
  content: '';
  display: block;
  width: 147px;
  height: 2px;
  background: var(--color-deep-blue);
  margin: 30px auto 0;
}

/* Step cards grid */
main > .section.steps .cards > ul {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 40px;
  list-style: none;
  padding: 0;
  margin: 0;
}

main > .section.steps .cards > ul > li {
  background: transparent;
  border-radius: 0;
  padding: 40px 40px 30px;
  text-align: left;
  display: flex;
  flex-direction: column;
  position: relative;
  /* Notched shape: top-left and bottom-right corners cut 30px */
  clip-path: polygon(
    30px 0, 100% 0, 100% calc(100% - 30px),
    calc(100% - 30px) calc(100% - 30px), calc(100% - 30px) 100%,
    0 100%, 0 30px, 30px 30px
  );
  /* 1px deep blue border that follows the clipped shape */
  box-shadow: inset 0 0 0 1px var(--color-deep-blue);
}

/* Step number - large teal like original */
main > .section.steps .cards > ul > li .step-number {
  font-size: 64px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-teal-text);
  line-height: 96px;
  margin-bottom: 40px;
}

/* Step title */
main > .section.steps .cards > ul > li .step-title {
  font-size: 32px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-deep-blue);
  line-height: 1;
  margin: 0 0 16px;
}

/* Step description */
main > .section.steps .cards > ul > li .step-desc {
  font-size: 16px;
  line-height: 1.2;
  color: var(--color-deep-blue);
  margin: 0 0 20px;
}

/* "Get started" button - teal background like original */
main > .section.steps .button-container {
  text-align: center;
  margin-top: 40px;
}

main > .section.steps .button-container a {
  background: var(--color-teal-text);
  color: var(--color-white);
  border: none;
  padding: 19px 60px 19px 25px;
  font-size: 23px;
  font-weight: 500;
  border-radius: 0;
  text-decoration: none;
  display: inline-block;
  transition: opacity 0.2s ease;
  background-image: url('/icons/arrow-right-white.svg');
  background-repeat: no-repeat;
  background-position: calc(100% - 21px) 50%;
  background-size: 19px 16px;
}

main > .section.steps .button-container a:hover {
  opacity: 0.9;
  background: var(--color-teal-text);
  color: var(--color-white);
}

@media (width < 900px) {
  main > .section.steps .cards > ul {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (width < 600px) {
  main > .section.steps .cards > ul {
    grid-template-columns: 1fr;
  }

  main > .section.steps h2 {
    font-size: 36px;
  }
}

/* ==========================================================================
   FAQ Accordion Section (product page FAQ with gradient background)
   ========================================================================== */

main > .section.faq-accordion {
  background: url('/styles/backgrounds/footer-gradient-background.jpg');
  background-size: cover;
  background-position: center top;
  background-attachment: fixed;
  padding: 73px 40px 94px;
  text-align: center;
  color: var(--color-white);
}

/* "FAQ" label */
main > .section.faq-accordion h5 {
  font-size: 24px;
  font-family: var(--heading-font-family);
  font-weight: 700;
  color: var(--color-white);
  margin: 0 0 12px;
  text-transform: none;
  letter-spacing: 0.1px;
}

main > .section.faq-accordion h2,
body:has(.product-hero) main > .section.faq-accordion h2 {
  font-size: 64px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-white);
  margin: 0 0 80px;
  line-height: 1;
}

/* Accordion container */
main > .section.faq-accordion .faq-accordion-list {
  max-width: 900px;
  margin: 0 auto 40px;
  text-align: left;
}

main > .section.faq-accordion details {
  border-bottom: 1px solid rgb(255 255 255 / 30%);
}

main > .section.faq-accordion details:first-child {
  border-top: 1px solid rgb(255 255 255 / 30%);
}

main > .section.faq-accordion summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 30px 16px;
  font-size: 32px;
  font-family: var(--heading-font-family);
  font-weight: 400;
  color: var(--color-white);
  cursor: pointer;
  list-style: none;
  transition: opacity 0.2s ease;
}

main > .section.faq-accordion summary::-webkit-details-marker {
  display: none;
}

main > .section.faq-accordion summary::after {
  content: '+';
  font-size: 28px;
  font-weight: 300;
  flex-shrink: 0;
  margin-left: 16px;
  transition: transform 0.3s ease;
}

main > .section.faq-accordion details[open] summary::after {
  content: '\2212';
}

main > .section.faq-accordion summary:hover {
  opacity: 0.8;
}

main > .section.faq-accordion details .faq-answer {
  padding: 0 16px 24px;
  font-size: 16px;
  line-height: 1.6;
  color: rgb(255 255 255 / 90%);
}

/* "View all FAQs" link */
main > .section.faq-accordion .button-container {
  margin-top: 30px;
}

main > .section.faq-accordion .button-container a {
  color: var(--color-deep-blue);
  background: var(--color-white);
  border: none;
  padding: 19px 60px 19px 25px;
  border-radius: 0;
  font-size: 23px;
  font-weight: 500;
  text-decoration: none;
  display: inline-block;
  transition: opacity 0.2s ease;
  background-image: url('/icons/arrow-right-blue.svg');
  background-repeat: no-repeat;
  background-position: calc(100% - 21px) 50%;
  background-size: 19px 16px;
}

main > .section.faq-accordion .button-container a:hover {
  opacity: 0.9;
  background: var(--color-white);
  color: var(--color-deep-blue);
}

@media (width < 768px) {
  main > .section.faq-accordion {
    padding: 60px 20px 80px;
  }

  main > .section.faq-accordion h2 {
    font-size: 36px;
  }

  main > .section.faq-accordion summary {
    font-size: 18px;
    padding: 20px 10px;
  }
}

/* ==========================================================================
   Footer Mark Decoration
   ========================================================================== */

main > .section.footer-mark {
  background-image: url('/styles/backgrounds/footer-mark.svg');
  background-repeat: no-repeat;
  background-position: center calc(100% - 48px);
  background-size: 300px auto;
  padding-bottom: 200px;
}

@media (width >= 900px) {
  main > .section.footer-mark {
    background-size: 400px auto;
    padding-bottom: 250px;
  }
}

/* ==========================================================================
   Animation System
   ==========================================================================

   A reusable animation system supporting:
   1. Auto-play animations (CSS keyframes - run on page load)
   2. Scroll-triggered animations (Intersection Observer)

   USAGE:

   Auto-play (immediate on page load):
     animation: anim-fade-up 0.8s ease-out 0.2s both;

   Scroll-triggered (when element enters viewport):
     class="animate-on-scroll animate-fade-up delay-2"

   ========================================================================== */

/* --------------------------------------------------------------------------
   KEYFRAME DEFINITIONS
   Use these with the 'animation' property for auto-play animations
   -------------------------------------------------------------------------- */

/* Fade In - simple opacity */
@keyframes anim-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Fade Up - rises from below */
@keyframes anim-fade-up {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateY(30px);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateY(0);
  }
}

/* Fade Up Deep - rises from further below (more dramatic) */
@keyframes anim-fade-up-deep {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateY(60px);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateY(0);
  }
}

/* Fade Down - drops from above */
@keyframes anim-fade-down {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateY(-30px);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateY(0);
  }
}

/* Fade Down Deep - drops from further above (more dramatic) */
@keyframes anim-fade-down-deep {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateY(-100px);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateY(0);
  }
}

/* Fade Left - slides in from right */
@keyframes anim-fade-left {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateX(30px);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateX(0);
  }
}

/* Fade Right - slides in from left */
@keyframes anim-fade-right {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateX(-30px);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateX(0);
  }
}

/* Scale In - grows from smaller */
@keyframes anim-scale-in {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) scale(0.9);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) scale(1);
  }
}

/* Scale Up - grows while rising */
@keyframes anim-scale-up {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateY(0) scale(1);
  }
}

/* Bounce In - playful entrance with overshoot */
@keyframes anim-bounce-in {
  0% {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateY(20px) scale(0.9);
  }
  60% {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateY(-5px) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateY(0) scale(1);
  }
}

/* Zoom In - dramatic scale entrance */
@keyframes anim-zoom-in {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) scale(0.5);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) scale(1);
  }
}

/* Background Zoom - pure zoom effect (no opacity change) */
@keyframes anim-bg-zoom {
  from {
    transform: scale(1);
  }
  to {
    transform: scale(1.2);
  }
}

/* Product Fade - slides in from left with rotation (for product images) */
@keyframes anim-product-slide {
  from {
    opacity: 0;
    transform: var(--anim-base-transform, none) translate(-15rem, -2rem) rotate(-5deg);
  }
  to {
    opacity: 1;
    transform: var(--anim-base-transform, none) translate(0, 0) rotate(0deg);
  }
}

/* Title Bounce - rises from below with overshoot */
@keyframes anim-title-bounce {
  0% {
    opacity: 0;
    transform: var(--anim-base-transform, none) translateY(7rem);
  }
  70% {
    transform: var(--anim-base-transform, none) translateY(-1rem);
  }
  100% {
    opacity: 1;
    transform: var(--anim-base-transform, none) translateY(0);
  }
}

/* --------------------------------------------------------------------------
   AUTO-PLAY UTILITY CLASSES
   Add these classes to elements for automatic page-load animations
   Syntax: .anim-[type]-[delay]
   -------------------------------------------------------------------------- */

/* Base auto-play animations with common timing */
.anim-fade-in { animation: anim-fade-in 0.6s ease-out both; }
.anim-fade-up { animation: anim-fade-up 0.6s ease-out both; }
.anim-fade-up-deep { animation: anim-fade-up-deep 0.8s ease-out both; }
.anim-fade-down { animation: anim-fade-down 0.6s ease-out both; }
.anim-fade-down-deep { animation: anim-fade-down-deep 0.8s ease-out both; }
.anim-fade-left { animation: anim-fade-left 0.6s ease-out both; }
.anim-fade-right { animation: anim-fade-right 0.6s ease-out both; }
.anim-scale-in { animation: anim-scale-in 0.6s ease-out both; }
.anim-scale-up { animation: anim-scale-up 0.6s ease-out both; }
.anim-bounce-in { animation: anim-bounce-in 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) both; }
.anim-zoom-in { animation: anim-zoom-in 0.5s ease-out both; }
.anim-product-slide { animation: anim-product-slide 1s ease-out both; }
.anim-title-bounce { animation: anim-title-bounce 0.5s ease-out both; }

/* Animation delays for auto-play (use with utility classes above) */
.anim-delay-1 { animation-delay: 0.1s; }
.anim-delay-2 { animation-delay: 0.2s; }
.anim-delay-3 { animation-delay: 0.3s; }
.anim-delay-4 { animation-delay: 0.4s; }
.anim-delay-5 { animation-delay: 0.5s; }
.anim-delay-6 { animation-delay: 0.6s; }
.anim-delay-7 { animation-delay: 0.7s; }
.anim-delay-8 { animation-delay: 0.8s; }
.anim-delay-9 { animation-delay: 0.9s; }
.anim-delay-10 { animation-delay: 1s; }
.anim-delay-12 { animation-delay: 1.2s; }
.anim-delay-15 { animation-delay: 1.5s; }
.anim-delay-20 { animation-delay: 2s; }

/* Animation durations for auto-play */
.anim-duration-3 { animation-duration: 0.3s; }
.anim-duration-4 { animation-duration: 0.4s; }
.anim-duration-5 { animation-duration: 0.5s; }
.anim-duration-6 { animation-duration: 0.6s; }
.anim-duration-8 { animation-duration: 0.8s; }
.anim-duration-10 { animation-duration: 1s; }
.anim-duration-12 { animation-duration: 1.2s; }
.anim-duration-15 { animation-duration: 1.5s; }

/* --------------------------------------------------------------------------
   SCROLL-TRIGGERED ANIMATIONS
   These use Intersection Observer (requires JavaScript in scripts.js)
   Elements start hidden, animate when scrolled into view
   -------------------------------------------------------------------------- */

/* Base state - hidden until triggered */
.animate-on-scroll {
  opacity: 0;
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

/* Visible state - triggered by Intersection Observer */
.animate-on-scroll.animate-visible {
  opacity: 1;
  transform: none !important;
}

/* Scroll animation types */
.animate-fade-in {
  opacity: 0;
}

.animate-fade-up {
  opacity: 0;
  transform: translateY(30px);
}

.animate-fade-up-deep {
  opacity: 0;
  transform: translateY(60px);
}

.animate-fade-down {
  opacity: 0;
  transform: translateY(-30px);
}

.animate-fade-down-deep {
  opacity: 0;
  transform: translateY(-60px);
}

.animate-fade-left {
  opacity: 0;
  transform: translateX(30px);
}

.animate-fade-right {
  opacity: 0;
  transform: translateX(-30px);
}

.animate-scale-in {
  opacity: 0;
  transform: scale(0.9);
}

.animate-scale-up {
  opacity: 0;
  transform: translateY(20px) scale(0.95);
}

/* Product slide - slides in from left with rotation */
.animate-product-slide {
  opacity: 0;
  transform: translate(-15rem, -2rem) rotate(-5deg);
  transition: opacity 1s ease-out, transform 1s ease-out;
}

.animate-product-slide.animate-visible {
  opacity: 1;
  transform: translate(0, 0) rotate(0deg);
}

/* Title bounce - rises from below with overshoot */
.animate-title-bounce {
  opacity: 0;
  transform: translateY(7rem);
  transition: opacity 0.5s ease-out, transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.animate-title-bounce.animate-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Background zoom - for pseudo-elements with background images */
/* Background zoom - pure zoom effect for pseudo-elements */
.animate-bg-zoom {
  transform: scale(1);
  transition: transform 2.5s ease-out;
}

.animate-bg-zoom.animate-visible {
  transform: scale(1.2);
}

/* Scroll animation delays (for staggered effects) */
.delay-1 { transition-delay: 0.1s; }
.delay-2 { transition-delay: 0.2s; }
.delay-3 { transition-delay: 0.3s; }
.delay-4 { transition-delay: 0.4s; }
.delay-5 { transition-delay: 0.5s; }
.delay-6 { transition-delay: 0.6s; }
.delay-7 { transition-delay: 0.7s; }
.delay-8 { transition-delay: 0.8s; }
.delay-9 { transition-delay: 0.9s; }
.delay-10 { transition-delay: 1s; }

/* Scroll animation durations */
.duration-3 { transition-duration: 0.3s; }
.duration-4 { transition-duration: 0.4s; }
.duration-5 { transition-duration: 0.5s; }
.duration-6 { transition-duration: 0.6s; }
.duration-8 { transition-duration: 0.8s; }
.duration-10 { transition-duration: 1s; }
.duration-12 { transition-duration: 1.2s; }

/* --------------------------------------------------------------------------
   ACCESSIBILITY - Reduced Motion
   Respects user's system preference for reduced motion
   -------------------------------------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
  /* Disable all auto-play animations */
  [class*="anim-"] {
    animation: none !important;
  }

  /* Disable scroll-triggered animations */
  .animate-on-scroll {
    opacity: 1;
    transform: none;
    transition: none;
  }

  .animate-on-scroll.animate-visible {
    opacity: 1;
    transform: none;
  }
}

/* ==========================================================================
   Footer Styles - Base only (detailed styles in blocks/footer/footer.css)
   ========================================================================== */

footer {
  background-color: var(--color-white);
  color: var(--color-deep-blue);
  font-family: var(--body-font-family);
}
